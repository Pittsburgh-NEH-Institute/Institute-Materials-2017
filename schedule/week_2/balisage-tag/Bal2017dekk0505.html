<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
      <title>It’s more than just overlap: Text As Graph</title>
      <link rel="stylesheet" href="balisage-proceedings.css" type="text/css">
      <meta name="keywords" content="containment, data model, discontinuity, graph database, hierarchy, hypergraph, overlap, simultaneity, TAG, text as graph, mixed content, white space">
   </head>
   <body>
      <div id="balisage-header">
         <h1 style="text-align: right; font-family: serif; margin:0.25em"><i>Balisage:</i>&nbsp;<small>The Markup Conference</small></h1>
      </div>
      <html lang="en">
         <head>
            <title>It’s more than just overlap: Text As Graph</title>
            <link rel="stylesheet" href="balisage-proceedings.css" type="text/css">
            <meta name="generator" content="Balisage Conference Proceedings XSLT (v1.2)"><script type="text/javascript">
    function toggle(folderID) {
      folder = document.getElementById("folder-"+folderID);
      icon = document.getElementById("icon-"+folderID)
      // need to:
      //   switch folder.style.display between 'none' and 'block'
      //   switch between collapse and expand icons
      if (folder.style.display != "block") {
        folder.style.display = "block";
        icon.src = "minus.png" ;
        icon.alt = "collapse" ;
      }
      else {
        folder.style.display = "none";
        icon.src = "plus.png" ;
        icon.alt = "expand" ;
      };
      return;
    }

   function hidecite(citeID) {
     cite = document.getElementById(citeID);
     cite.style.display = "none";
     return;
   }
   
   function showcite(citeID,anchorID) {
     cite = document.getElementById(citeID);

     citeLeft = cite.style.left;
     citeTop = cite.style.top;
     
     if (citeLeft != (getLeft(anchorID)+"px") ||
         citeTop != (getTop(anchorID)+"px")) {
       cite.style.display = "none";
     }
     
     if (cite.style.display != "table-cell") {
        movebox(citeID, anchorID);
        cite.style.display = "table-cell";
     }
     else {
       cite.style.display = "none";
     };
     return;
   }

   function movebox(citeID, anchorID) {

     cite = document.getElementById(citeID);
     
     // alert(cite.offsetWidth + " by " + cite.offsetHeight)
     
     horizontalOffset = getLeft(anchorID);
     // horizontalOffset = (inMain(anchorID)) ?
     // (horizontalOffset - 260) : (horizontalOffset + 20)
     // (horizontalOffset - (20 + cite.offsetWidth)) : (horizontalOffset + 20)

     verticalOffset = getTop(anchorID);
     // verticalOffset = (inMain(anchorID)) ?
     // (verticalOffset - 20) : (verticalOffset + 20)
     // (verticalOffset - (20 + cite.offsetHeight)) : (verticalOffset + 20)

     /*
     horizontalOffset = getAbsoluteLeft(anchorID) - getScrollLeft(anchorID) + 20;
     if (inMain(anchorID)) {
       horizontalOffset = horizontalOffset - 300;
     }
     verticalOffset = getAbsoluteTop(anchorID) - getScrollTop(anchorID) - 40;
     if (inMain(anchorID)) {
       verticalOffset = verticalOffset - 300;
     }
     */
     
     cite.style.left = horizontalOffset + "px";
     cite.style.top = verticalOffset + "px";
   }
   
   function getLeft(objectID) {
     var left = getAbsoluteLeft(objectID) - getScrollLeft(objectID);
     left = (inMain(objectID)) ? (left - 260) : (left + 20)    
     return left;
   }
   
   function getTop(objectID) {
     var top = getAbsoluteTop(objectID) - getScrollTop(objectID);
     top = (inMain(objectID)) ? (top - 50) : (top + 20)
     return top;     
   }
   
   function getAbsoluteLeft(objectId) {
   // Get an object left position from the upper left viewport corner
     o = document.getElementById(objectId)
     oLeft = o.offsetLeft            // Get left position from the parent object
     while(o.offsetParent!=null) {   // Parse the parent hierarchy up to the document element
       oParent = o.offsetParent    // Get parent object reference
       oLeft += oParent.offsetLeft // Add parent left position
       o = oParent
      }
    return oLeft
    }

    function getAbsoluteTop(objectId) {
    // Get an object top position from the upper left viewport corner
      o = document.getElementById(objectId)
      oTop = o.offsetTop            // Get top position from the parent object
      while(o.offsetParent!=null) { // Parse the parent hierarchy up to the document element
        oParent = o.offsetParent  // Get parent object reference
        oTop += oParent.offsetTop // Add parent top position
        o = oParent
      }
    return oTop
    }

   function getScrollLeft(objectId) {
     // Get a left scroll position
     o = document.getElementById(objectId)
     oLeft = o.scrollLeft            // Get left position from the parent object
     while(o.offsetParent!=null) {   // Parse the parent hierarchy up to the document element
       oParent = o.offsetParent    // Get parent object reference
       oLeft += oParent.scrollLeft // Add parent left position
       o = oParent
      }
    return oLeft
    }

    function getScrollTop(objectId) {
    // Get a right scroll position
      o = document.getElementById(objectId)
      oTop = o.scrollTop            // Get top position from the parent object
      while(o.offsetParent!=null) { // Parse the parent hierarchy up to the document element
        oParent = o.offsetParent  // Get parent object reference
        oTop += oParent.scrollTop // Add parent top position
        o = oParent
      }
    return oTop
    }

    function inMain(objectId) {
    // returns true if in div#main
      o = document.getElementById(objectId)
      while(o.parentNode != null) { // Parse the parent hierarchy up to div#main
        oParent = o.parentNode
        if (o.id == "main") { return true; }
        o = oParent;
      }
    return false;
    }


   /*
   function showcite(citeID) {
      cite = document.getElementById(citeID);
      if (cite.style.display != "table-cell") {
        cite.style.display = "table-cell";
      }
      else {
        cite.style.display = "none";
      };
      return;
    }
    */

      </script></head>
         <body>
            <div class="inline-citation" id="cite-birnbaum_2015" style="display:none;width: 240px"><a class="quiet" href="javascript:hidecite('cite-birnbaum_2015')" style="font-size:90%"><img src="eks.png" alt="[x]" style="float:right;clear:both;margin:1px"></a><p style="margin:0ex">Birnbaum, David J.,
                  and Elise Thorsen. <q>Markup and meter: Using XML tools to teach a computer to think about
                     versification.</q> Presented at Balisage: The Markup Conference 2015, Washington, DC,
                  August 11–14, 2015. In <span class="ital">Proceedings of Balisage: The Markup Conference
                     2015</span>. Balisage Series on Markup Technologies, vol. 15 (2015). DOI:
                  10.4242/BalisageVol15.Birnbaum01. <a href="https://www.balisage.net/Proceedings/vol15/html/Birnbaum01/BalisageVol15-Birnbaum01.html" class="link" target="_new">https://www.balisage.net/Proceedings/vol15/html/Birnbaum01/BalisageVol15-Birnbaum01.html</a></p>
            </div>
            <div class="inline-citation" id="cite-bleeker_2017" style="display:none;width: 240px"><a class="quiet" href="javascript:hidecite('cite-bleeker_2017')" style="font-size:90%"><img src="eks.png" alt="[x]" style="float:right;clear:both;margin:1px"></a><p style="margin:0ex">Bleeker, Elli. <q>Mapping
                     invention in writing: digital infrastructure and the role of the genetic editor.</q> PhD
                  dissertation, University of Antwerp, 2017.
               </p>
            </div>
            <div class="inline-citation" id="cite-collatex" style="display:none;width: 240px"><a class="quiet" href="javascript:hidecite('cite-collatex')" style="font-size:90%"><img src="eks.png" alt="[x]" style="float:right;clear:both;margin:1px"></a><p style="margin:0ex">CollateX.
                  <a href="https://pypi.python.org/pypi/collatex" class="link" target="_new">https://pypi.python.org/pypi/collatex</a></p>
            </div>
            <div class="inline-citation" id="cite-coombs_1987" style="display:none;width: 240px"><a class="quiet" href="javascript:hidecite('cite-coombs_1987')" style="font-size:90%"><img src="eks.png" alt="[x]" style="float:right;clear:both;margin:1px"></a><p style="margin:0ex">Coombs, James H., Allen H.
                  Renear, and Steven J. DeRose. <q>Markup systems and the future of scholarly text
                     processing.</q>
                  <span class="ital">Communications of the association for computing machinery</span>,
                  30.11 (Nov. 1987): 933–47. doi:10.1145/32206.32209
               </p>
            </div>
            <div class="inline-citation" id="cite-derose_2004" style="display:none;width: 240px"><a class="quiet" href="javascript:hidecite('cite-derose_2004')" style="font-size:90%"><img src="eks.png" alt="[x]" style="float:right;clear:both;margin:1px"></a><p style="margin:0ex">DeRose, Steven J. <q>Markup
                     overlap: a review and a horse.</q> Extreme Markup Languages 2004.
                  <a href="http://xml.coverpages.org/DeRoseEML2004.pdf" class="link" target="_new">http://xml.coverpages.org/DeRoseEML2004.pdf</a></p>
            </div>
            <div class="inline-citation" id="cite-derose_1990" style="display:none;width: 240px"><a class="quiet" href="javascript:hidecite('cite-derose_1990')" style="font-size:90%"><img src="eks.png" alt="[x]" style="float:right;clear:both;margin:1px"></a><p style="margin:0ex">DeRose, Steven J., David G.
                  Durand, Elli Mylonas, and Allen H. Renear. <q>What is text, really?</q>, <span class="ital">Journal of computing in higher education</span>, 1.2 (1990): 3–26.
                  doi:10.1007/BF02941632.
                  <a href="http://www.cip.ifi.lmu.de/~langeh/test/1990%20-%20DeRose%20-%20What%20is%20Text,%20really%3F.pdf" class="link" target="_new">http://www.cip.ifi.lmu.de/~langeh/test/1990%20-%20DeRose%20-%20What%20is%20Text,%20really%3F.pdf</a></p>
            </div>
            <div class="inline-citation" id="cite-hilbert_2005" style="display:none;width: 240px"><a class="quiet" href="javascript:hidecite('cite-hilbert_2005')" style="font-size:90%"><img src="eks.png" alt="[x]" style="float:right;clear:both;margin:1px"></a><p style="margin:0ex">Hilbert,
                  Mirco, Oliver Schonefeld, and Andreas Witt. <q>Making CONCUR work.</q>
                  <span class="ital">Proceedings of Extreme Markup Languages</span> 2005.
                  <a href="http://conferences.idealliance.org/extreme/html/2005/Witt01/EML2005Witt01.xml#Horse" class="link" target="_new">http://conferences.idealliance.org/extreme/html/2005/Witt01/EML2005Witt01.xml#Horse</a></p>
            </div>
            <div class="inline-citation" id="cite-huitfeldt_2003" style="display:none;width: 240px"><a class="quiet" href="javascript:hidecite('cite-huitfeldt_2003')" style="font-size:90%"><img src="eks.png" alt="[x]" style="float:right;clear:both;margin:1px"></a><p style="margin:0ex">Huitfeldt,
                  Claus and C. Michael Sperberg-McQueen. <q>TexMECS. An experimental markup meta-language
                     for complex documents.</q> Revision of 5 October 2003.
                  <a href="http://mlcd.blackmesatech.com/mlcd/2003/Papers/texmecs.html" class="link" target="_new">http://mlcd.blackmesatech.com/mlcd/2003/Papers/texmecs.html</a></p>
            </div>
            <div class="inline-citation" id="cite-ide_2007" style="display:none;width: 240px"><a class="quiet" href="javascript:hidecite('cite-ide_2007')" style="font-size:90%"><img src="eks.png" alt="[x]" style="float:right;clear:both;margin:1px"></a><p style="margin:0ex">Ide, Nancy and Keith Suderman.
                  <q>GrAF: a graph-based format for linguistic annotations.</q> Proceedings of the
                  Linguistic Annotation Workshop, held in conjunction with ACL 2007, Prague, June 28–29,
                  1–8.
                  <a href="https://www.cs.vassar.edu/~ide/papers/LAW.pdf" class="link" target="_new">https://www.cs.vassar.edu/~ide/papers/LAW.pdf</a></p>
            </div>
            <div class="inline-citation" id="cite-LMNL_data" style="display:none;width: 240px"><a class="quiet" href="javascript:hidecite('cite-LMNL_data')" style="font-size:90%"><img src="eks.png" alt="[x]" style="float:right;clear:both;margin:1px"></a><p style="margin:0ex">LMNLWiki. <q>LMNL data
                     model.</q> From the <span class="ital">Lost Archives of LMNL</span>.
                  <a href="http://www.lmnl.net/prose/data-model/data-model-spec.html" class="link" target="_new">http://www.lmnl.net/prose/data-model/data-model-spec.html</a></p>
            </div>
            <div class="inline-citation" id="cite-peroni_2014" style="display:none;width: 240px"><a class="quiet" href="javascript:hidecite('cite-peroni_2014')" style="font-size:90%"><img src="eks.png" alt="[x]" style="float:right;clear:both;margin:1px"></a><p style="margin:0ex">Peroni, Silvio, Francesco Poggi
                  and Fabio Vitali. <q>Overlapproaches in documents: a definitive classification (in OWL,
                     2!).</q> Presented at Balisage: The Markup Conference 2014, Washington, DC, August 5 -
                  8, 2014. In <span class="ital">Proceedings of Balisage: The Markup Conference 2014.
                     Balisage Series on Markup Technologies</span>, 13 (2014). DOI:
                  10.4242/BalisageVol13.Peroni01.
                  <a href="https://www.balisage.net/Proceedings/vol13/html/Peroni01/BalisageVol13-Peroni01.html" class="link" target="_new">https://www.balisage.net/Proceedings/vol13/html/Peroni01/BalisageVol13-Peroni01.html</a></p>
            </div>
            <div class="inline-citation" id="cite-piez_2008" style="display:none;width: 240px"><a class="quiet" href="javascript:hidecite('cite-piez_2008')" style="font-size:90%"><img src="eks.png" alt="[x]" style="float:right;clear:both;margin:1px"></a><p style="margin:0ex">Piez, Wendell. <q>LMNL in miniature.
                     An introduction.</q> Amsterdam Goddag Workshop, 1–5 December 2008.
                  <a href="http://piez.org/wendell/LMNL/Amsterdam2008/presentation-slides.html" class="link" target="_new">http://piez.org/wendell/LMNL/Amsterdam2008/presentation-slides.html</a></p>
            </div>
            <div class="inline-citation" id="cite-piez_2010" style="display:none;width: 240px"><a class="quiet" href="javascript:hidecite('cite-piez_2010')" style="font-size:90%"><img src="eks.png" alt="[x]" style="float:right;clear:both;margin:1px"></a><p style="margin:0ex">Piez, Wendell. <q>Towards hermeneutic
                     markup. An architectural outline.</q> Presentation at Digital Humanities 2010, King’s
                  College, London. <a href="http://piez.org/wendell/papers/dh2010/" class="link" target="_new">http://piez.org/wendell/papers/dh2010/</a> The screen shot in this
                  paper is taken from
                  <a href="http://piez.org/wendell/papers/dh2010/clix-sonnets/ozymandias-map.svg" class="link" target="_new">http://piez.org/wendell/papers/dh2010/clix-sonnets/ozymandias-map.svg</a>.
               </p>
            </div>
            <div class="inline-citation" id="cite-piez_2014" style="display:none;width: 240px"><a class="quiet" href="javascript:hidecite('cite-piez_2014')" style="font-size:90%"><img src="eks.png" alt="[x]" style="float:right;clear:both;margin:1px"></a><p style="margin:0ex">Piez, Wendell. <q>Hierarchies within
                     range space: From LMNL to OHCO.</q> Presented at <span class="ital">Balisage: The
                     Markup Conference 2014, Washington, DC, August 5 - 8, 2014.</span> In <span class="ital">Proceedings of Balisage: The Markup Conference 2014. Balisage series on markup
                     technologies,</span> vol. 13 (2014). DOI: 10.4242/BalisageVol13.Piez01.
                  <a href="http://www.balisage.net/Proceedings/vol13/html/Piez01/BalisageVol13-Piez01.html" class="link" target="_new">http://www.balisage.net/Proceedings/vol13/html/Piez01/BalisageVol13-Piez01.html</a></p>
            </div>
            <div class="inline-citation" id="cite-renear_1996" style="display:none;width: 240px"><a class="quiet" href="javascript:hidecite('cite-renear_1996')" style="font-size:90%"><img src="eks.png" alt="[x]" style="float:right;clear:both;margin:1px"></a><p style="margin:0ex">Renear, Allen H.,
                  Elli Mylonas, and David G. Durand. <q>Refining our notion of what text really is: the
                     problem of overlapping hierarchies.</q>
                  <span class="ital">Research in humanities computing</span>, ed. Nancy Ide and Susan
                  Hockey. Oxford: Oxford University Press. 1996.
                  <a href="http://cds.library.brown.edu/resources/stg/monographs/ohco.html" class="link" target="_new">http://cds.library.brown.edu/resources/stg/monographs/ohco.html</a></p>
            </div>
            <div class="inline-citation" id="cite-sperberg_2008" style="display:none;width: 240px"><a class="quiet" href="javascript:hidecite('cite-sperberg_2008')" style="font-size:90%"><img src="eks.png" alt="[x]" style="float:right;clear:both;margin:1px"></a><p style="margin:0ex">Sperberg-McQueen, C. M., and Claus Huitfeldt. “Containment and dominance in Goddag
                  structures”. Talk at conference on "Processing Text-Technological Resources", Center
                  for
                  interdisciplinary research, University of Bielefeld, March 2008. <a href="http://cmsmcq.com/2008/bielefeld/slides.html#(1)" class="link" target="_new">http://cmsmcq.com/2008/bielefeld/slides.html#(1)</a></p>
            </div>
            <div class="inline-citation" id="cite-sperberg-huitfeldt_2000" style="display:none;width: 240px"><a class="quiet" href="javascript:hidecite('cite-sperberg-huitfeldt_2000')" style="font-size:90%"><img src="eks.png" alt="[x]" style="float:right;clear:both;margin:1px"></a><p style="margin:0ex">Sperberg-McQueen, C. M. and Claus Huitfeldt. <q>GODDAG: a data structure for overlapping
                     hierarchies.</q>
                  <span class="ital">Digital documents: systems and principles: 8th international conference
                     on digital documents and electronic publishing, DDEP 2000, 5th international workshop
                     on the
                     principles of digital document processing, PODDP 2000, Munich, Germany, September
                     13–15,
                     2000, revised papers</span>, ed. Peter King and Ethan V. Munson. NY: Springer, 2004,
                  139–60. A revised version is available at
                  <a href="http://cmsmcq.com/2000/poddp2000.html" class="link" target="_new">http://cmsmcq.com/2000/poddp2000.html</a></p>
            </div>
            <div class="inline-citation" id="cite-sperberg_2008-bielefeld" style="display:none;width: 240px"><a class="quiet" href="javascript:hidecite('cite-sperberg_2008-bielefeld')" style="font-size:90%"><img src="eks.png" alt="[x]" style="float:right;clear:both;margin:1px"></a><p style="margin:0ex">Sperberg-McQueen, C. M., and Claus Huitfeldt. <q>.Containment and dominance in Goddag
                     structures</q> Presented at Processing text-technological resources, Bielefeld, March
                  13-15, 2008, organized by the Zentrum für interdisziplinäre Forschung der Universität
                  Bielefeld. Slides (but not full text) available on the Web at
                  <a href="http://www.w3.org/People/cmsmcq/2008/bielefeld/slides.html" class="link" target="_new">http://www.w3.org/People/cmsmcq/2008/bielefeld/slides.html</a></p>
            </div>
            <div class="inline-citation" id="cite-sperberg-huitfeldt_2008" style="display:none;width: 240px"><a class="quiet" href="javascript:hidecite('cite-sperberg-huitfeldt_2008')" style="font-size:90%"><img src="eks.png" alt="[x]" style="float:right;clear:both;margin:1px"></a><p style="margin:0ex">Sperberg-McQueen, C. M. and Claus Huitfeldt. <q>Markup Discontinued: Discontinuity in
                     TexMecs, Goddag structures, and rabbit/duck grammars.</q>
                  <span class="ital">Presented at Balisage: The Markup Conference 2008, Montréal, Canada,
                     August 12 - 15, 2008.</span> In <span class="ital">Proceedings of Balisage: The
                     Markup Conference 2008. Balisage Series on Markup Technologies</span>, vol. 1 (2008).
                  DOI: 10.4242/BalisageVol1.Sperberg-McQueen01.
                  <a href="http://www.balisage.net/Proceedings/vol1/html/Sperberg-McQueen01/BalisageVol1-Sperberg-McQueen01.html" class="link" target="_new">http://www.balisage.net/Proceedings/vol1/html/Sperberg-McQueen01/BalisageVol1-Sperberg-McQueen01.html</a></p>
            </div>
            <div class="inline-citation" id="cite-tennison_2008" style="display:none;width: 240px"><a class="quiet" href="javascript:hidecite('cite-tennison_2008')" style="font-size:90%"><img src="eks.png" alt="[x]" style="float:right;clear:both;margin:1px"></a><p style="margin:0ex">Tennison, Jeni. <q>Overlap,
                     containment and dominance. <span class="ital">Jeni’s musings</span>,
                     2008-12-06.</q>
                  <a href="http://www.jenitennison.com/2008/12/06/overlap-containment-and-dominance.html" class="link" target="_new">http://www.jenitennison.com/2008/12/06/overlap-containment-and-dominance.html</a></p>
            </div>
            <div class="inline-citation" id="cite-ge" style="display:none;width: 240px"><a class="quiet" href="javascript:hidecite('cite-ge')" style="font-size:90%"><img src="eks.png" alt="[x]" style="float:right;clear:both;margin:1px"></a><p style="margin:0ex">TEI WG-GE. <q>An encoding model
                     for genetic editions.</q>
                  <a href="http://www.tei-c.org/Activities/Council/Working/index.html" class="link" target="_new">s</a></p>
            </div>
            <div class="inline-citation" id="cite-W3C_DOM" style="display:none;width: 240px"><a class="quiet" href="javascript:hidecite('cite-W3C_DOM')" style="font-size:90%"><img src="eks.png" alt="[x]" style="float:right;clear:both;margin:1px"></a><p style="margin:0ex">W3C. <q>What is the Document Object
                     Model?</q>
                  <span class="ital">Document Object Model (DOM). Level 2 Core Specification. Version
                     1.0</span>
                  <a href="https://www.w3.org/TR/DOM-Level-2-Core/introduction.html" class="link" target="_new">https://www.w3.org/TR/DOM-Level-2-Core/introduction.html</a></p>
            </div>
            <div class="inline-citation" id="cite-W3C_xml" style="display:none;width: 240px"><a class="quiet" href="javascript:hidecite('cite-W3C_xml')" style="font-size:90%"><img src="eks.png" alt="[x]" style="float:right;clear:both;margin:1px"></a><p style="margin:0ex">W3C. <span class="ital">Extensible Markup
                     Language (XML) 1.0 (fifth edition).</span>
                  <a href="http://www.w3.org/TR/xml/" class="link" target="_new">http://www.w3.org/TR/xml/</a></p>
            </div>
            <div class="inline-citation" id="cite-W3C_xmlinfoset" style="display:none;width: 240px"><a class="quiet" href="javascript:hidecite('cite-W3C_xmlinfoset')" style="font-size:90%"><img src="eks.png" alt="[x]" style="float:right;clear:both;margin:1px"></a><p style="margin:0ex">W3C. <span class="ital">XML
                     Information Set (second edition).</span>
                  <a href="https://www.w3.org/TR/xml-infoset/" class="link" target="_new">https://www.w3.org/TR/xml-infoset/</a></p>
            </div>
            <div class="inline-citation" id="cite-W3C_xdm" style="display:none;width: 240px"><a class="quiet" href="javascript:hidecite('cite-W3C_xdm')" style="font-size:90%"><img src="eks.png" alt="[x]" style="float:right;clear:both;margin:1px"></a><p style="margin:0ex">W3C. <span class="ital">XQuery and XPath
                     Data Model 3.1.</span>
                  <a href="https://www.w3.org/TR/xpath-datamodel-3/#Node" class="link" target="_new">https://www.w3.org/TR/xpath-datamodel-3/#Node</a></p>
            </div>
            <div id="mast">
               <div class="content">
                  <h2 class="article-title" id="d2e4">It’s more than just overlap: Text As Graph<sup class="fn-label"><a href="#d2e6" class="footnoteref" id="d2e6-ref">[1]</a></sup></h2>
                  <h3 class="subtitle"><i>Refining our notion of what text really is—this time for sure!</i></h3>
                  <div class="author">
                     <h3 class="author">Ronald Haentjens Dekker</h3>
                     <div class="affiliation">
                        <p class="jobtitle">Head of Research and Development and Software Architect</p>
                        <p class="orgname">Huygens ING</p>
                     </div>
                     <h5 class="author-email"><code class="email">&lt;<a class="email" href="mailto:ronald.dekker@huygens.knaw.nl">ronald.dekker@huygens.knaw.nl</a>&gt;</code></h5>
                  </div>
                  <div class="author">
                     <h3 class="author">David J. Birnbaum</h3>
                     <div class="affiliation">
                        <p class="jobtitle">Professor and Chair</p>
                        <p class="orgname">Department of Slavic Languages and Literatures, University of Pittsburgh</p>
                     </div>
                     <h5 class="author-email"><code class="email">&lt;<a class="email" href="mailto:djbpitt@gmail.com">djbpitt@gmail.com</a>&gt;</code></h5>
                  </div>
                  <div class="mast-box">
                     <p class="title"><a href="javascript:toggle('d2e13')" class="quiet"><img class="toc-icon" src="plus.png" alt="expand" id="icon-d2e13"></a> <span onclick="javascript:toggle('d2e13');return true">Abstract</span></p>
                     <div class="folder" id="folder-d2e13" style="display:none">
                        <p id="d2e14">The XML tree paradigm has several well-known limitations for document modeling and
                           processing. Some of these have received a lot of attention (especially overlap), and
                           some
                           have received less (e.g., discontinuity, simultaneity, transposition, white space
                           as
                           crypto-overlap). Many of these have work-arounds, also well known, but—as is implicit
                           in the
                           term “work-around”—these work-arounds have disadvantages. Because they get the job
                           done,
                           however, and because XML has a large user community with diverse levels of technological
                           expertise, it is difficult to overcome inertia and move to a technology that might
                           offer a
                           more comprehensive fit with the full range of document structures with which researchers
                           need to interact both intellectually and programmatically. A high-level analysis of
                           why XML
                           has the limitations it has can enable us to explore how an alternative model of Text
                           as
                           Graph (TAG) might address these types of structures and tasks in a more natural and
                           idiomatic way than is available within an XML paradigm.
                        </p>
                     </div>
                  </div>
                  <div class="toc">
                     <p><b>Table of Contents</b></p>
                     <dl>
                        <dt><span class="section"><a href="#d2e83" class="toc">Introduction</a></span></dt>
                        <dt><span class="section"><a href="#d2e154" class="toc">The TAG/hypergraph model for text</a></span></dt>
                        <dd>
                           <dl>
                              <dt><span class="section"><a href="#d2e163" class="toc">Overview</a></span></dt>
                              <dt><span class="section"><a href="#d2e196" class="toc">TAG example</a></span></dt>
                              <dt><span class="section"><a href="#d2e265" class="toc">How TAG represents selected structural properties of text</a></span></dt>
                              <dd>
                                 <dl>
                                    <dt><span class="section"><a href="#d2e270" class="toc">Order</a></span></dt>
                                    <dt><span class="section"><a href="#d2e293" class="toc">Textual content</a></span></dt>
                                    <dt><span class="section"><a href="#d2e310" class="toc">Markup</a></span></dt>
                                    <dt><span class="section"><a href="#d2e369" class="toc">Overlap and self-overlap</a></span></dt>
                                    <dt><span class="section"><a href="#d2e383" class="toc">Discontinuity</a></span></dt>
                                 </dl>
                              </dd>
                              <dt><span class="section"><a href="#d2e429" class="toc">TAG components</a></span></dt>
                              <dd>
                                 <dl>
                                    <dt><span class="section"><a href="#d2e432" class="toc">Nodes</a></span></dt>
                                    <dt><span class="section"><a href="#d2e496" class="toc">Edges and hyperedges</a></span></dt>
                                    <dt><span class="section"><a href="#d2e609" class="toc">Constraints</a></span></dt>
                                 </dl>
                              </dd>
                           </dl>
                        </dd>
                        <dt><span class="section"><a href="#d2e747" class="toc">Challenges for text modeling</a></span></dt>
                        <dd>
                           <dl>
                              <dt><span class="section"><a href="#d2e752" class="toc">Overlap</a></span></dt>
                              <dt><span class="section"><a href="#d2e855" class="toc">Discontinuity</a></span></dt>
                              <dt><span class="section"><a href="#d2e951" class="toc">Hierarchy, containment and dominance</a></span></dt>
                              <dt><span class="section"><a href="#d2e1081" class="toc">Artifactual hierarchy</a></span></dt>
                              <dt><span class="section"><a href="#d2e1146" class="toc">White space as crypto-overlap</a></span></dt>
                              <dt><span class="section"><a href="#d2e1303" class="toc">Scope of reference</a></span></dt>
                              <dt><span class="section"><a href="#d2e1353" class="toc">Data model versus syntax</a></span></dt>
                              <dt><span class="section"><a href="#d2e1381" class="toc">Semantics versus application level</a></span></dt>
                           </dl>
                        </dd>
                        <dt><span class="section"><a href="#d2e1410" class="toc">TAG in the Alexandria Markup text repository</a></span></dt>
                        <dd>
                           <dl>
                              <dt><span class="section"><a href="#d2e1417" class="toc">Importing documents into Alexandria</a></span></dt>
                              <dd>
                                 <dl>
                                    <dt><span class="section"><a href="#d2e1420" class="toc">Importing plain text into Alexandria Markup</a></span></dt>
                                    <dt><span class="section"><a href="#d2e1428" class="toc">Importing LMNL into Alexandria Markup</a></span></dt>
                                    <dt><span class="section"><a href="#d2e1448" class="toc">Importing TexMECS into Alexandria Markup</a></span></dt>
                                 </dl>
                              </dd>
                              <dt><span class="section"><a href="#d2e1469" class="toc">Exporting from Alexandria Markup in sawtooth syntax</a></span></dt>
                              <dt><span class="section"><a href="#d2e1478" class="toc">TAGQL: A query language for TAG in Alexandria Markup</a></span></dt>
                              <dd>
                                 <dl>
                                    <dt><span class="section"><a href="#d2e1524" class="toc">Sample query: Find all lines in the second quatrain of a sonnet</a></span></dt>
                                    <dt><span class="section"><a href="#d2e1544" class="toc">Sample query: Find enjambment</a></span></dt>
                                 </dl>
                              </dd>
                              <dt><span class="section"><a href="#d2e1561" class="toc">The Alexandria Markup server API</a></span></dt>
                              <dt><span class="section"><a href="#d2e1616" class="toc">Java/Python clients</a></span></dt>
                           </dl>
                        </dd>
                        <dt><span class="section"><a href="#d2e1621" class="toc">Conclusions</a></span></dt>
                        <dt><span class="appendix"><a href="#sonnet-71_text" class="toc">Appendix A. William Shakespeare, Sonnet 71</a></span></dt>
                        <dt><span class="appendix"><a href="#to_do" class="toc">Appendix B. Features of text not currently represented in TAG or in Alexandria Markup</a></span></dt>
                        <dd>
                           <dl>
                              <dt><span class="section"><a href="#d2e1638" class="toc">Order</a></span></dt>
                              <dd>
                                 <dl>
                                    <dt><span class="section"><a href="#d2e1643" class="toc">Simultaneity</a></span></dt>
                                    <dt><span class="section"><a href="#d2e1693" class="toc">Transposition</a></span></dt>
                                    <dt><span class="section"><a href="#d2e1730" class="toc">Intradocumentary variation</a></span></dt>
                                 </dl>
                              </dd>
                              <dt><span class="section"><a href="#d2e1755" class="toc">Constraint language</a></span></dt>
                              <dt><span class="section"><a href="#d2e1760" class="toc">Markup language</a></span></dt>
                           </dl>
                        </dd>
                        <dt><span class="appendix"><a href="#snark" class="toc">Appendix C. Hypergraph visualizations</a></span></dt>
                        <dt><span class="appendix"><a href="#requirements" class="toc">Appendix D. Requirements</a></span></dt>
                     </dl>
                  </div>
                  <div class="mast-box">
                     <p class="title"><a href="javascript:toggle('d2e16')" class="linkbox"><img class="toc-icon" src="plus.png" alt="expand" id="icon-d2e16"></a> <span onclick="javascript:toggle('d2e16');return true">Ronald Haentjens Dekker</span></p>
                     <div class="folder" id="folder-d2e16" style="display:none">
                        <h5 class="author-email"><code class="email">&lt;<a class="email" href="mailto:ronald.dekker@huygens.knaw.nl">ronald.dekker@huygens.knaw.nl</a>&gt;</code></h5>
                        <div class="affiliation">
                           <p class="jobtitle">Head of Research and Development and Software Architect</p>
                           <p class="orgname">Huygens ING</p>
                        </div>
                        <div class="personblurb">
                           <p id="d2e23">Ronald Haentjens Dekker is a software architect and consultant at the Huygens
                              Institute for the History of the Netherlands. As a software architect, he is responsible
                              for translating research questions into technology or algorithms and explaining to
                              researchers and management how specific technologies will influence their research.
                              He has
                              worked on transcription and annotation software, collation software, and repository
                              software, and he is the lead developer of the CollateX collation tool. He also conducts
                              workshops to teach researchers how to use scripting languages in combination with
                              digital
                              editions to enhance their research.
                           </p>
                        </div>
                     </div>
                  </div>
                  <div class="mast-box">
                     <p class="title"><a href="javascript:toggle('d2e34')" class="linkbox"><img class="toc-icon" src="plus.png" alt="expand" id="icon-d2e34"></a> <span onclick="javascript:toggle('d2e34');return true">David J. Birnbaum</span></p>
                     <div class="folder" id="folder-d2e34" style="display:none">
                        <h5 class="author-email"><code class="email">&lt;<a class="email" href="mailto:djbpitt@gmail.com">djbpitt@gmail.com</a>&gt;</code></h5>
                        <div class="affiliation">
                           <p class="jobtitle">Professor and Chair</p>
                           <p class="orgname">Department of Slavic Languages and Literatures, University of Pittsburgh</p>
                        </div>
                        <div class="personblurb">
                           <p id="d2e43">David J. Birnbaum is Professor and Chair of the Department of Slavic Languages and
                              Literatures at the University of Pittsburgh. He has been involved in the study of
                              electronic text technology since the mid-1980s, has delivered presentations at a variety
                              of electronic text technology conferences, and has served on the board of the Association
                              for Computers and the Humanities, the editorial board of <span class="ital">Markup
                                 languages: Theory and practice</span>, and the Text Encoding Initiative Council.
                              Much of his electronic text work intersects with his research in medieval Slavic
                              manuscript studies, but he also often writes about issues in the philosophy of
                              markup.
                           </p>
                        </div>
                     </div>
                  </div>
               </div>
            </div>
            <div id="navbar"></div>
            <div id="balisage-header" style="background-color: #6699CC"><a class="quiet" href="http://www.balisage.net"><img style="float:right;border:none" alt="Balisage logo" height="130" src="http://balisage.net/Logo/BalisageSeries-logo.png"></a><h2 class="page-header">Balisage: The Markup Conference</h2>
               <h1 class="page-header">Proceedings preview</h1>
            </div>
            <div id="main">
               <div class="article">
                  <h2 class="article-title" id="d2e4">It’s more than just overlap: Text As Graph<sup class="fn-label"><a href="#d2e6" class="footnoteref" id="d2e6-ref">[1]</a></sup></h2>
                  <h3 class="subtitle"><i>Refining our notion of what text really is—this time for sure!</i></h3>
                  <div class="section" id="d2e83">
                     <h2 class="title" style="clear: both">Introduction</h2>
                     <p id="d2e86">The XML tree paradigm has several well-known limitations for document modeling and
                        processing, some of which have received a lot of attention (especially overlap; see
                        the
                        overviews in <a class="xref" id="d2e88" href="javascript:showcite('cite-sperberg-huitfeldt_2000','d2e88')">Sperberg-McQueen and Huitfeldt 2000</a> and <a class="xref" id="d2e90" href="javascript:showcite('cite-derose_2004','d2e90')">DeRose 2004</a>) and
                        some of which have received less (e.g., discontinuity, simultaneity, transposition,
                        white
                        space as crypto-overlap). Many of these have work-arounds, also well known, that—as
                        is
                        implicit in the term <q>work-around</q>—have disadvantages, but because they get the
                        job done and because XML has a large user community with diverse levels of technological
                        expertise, it is difficult to overcome inertia and move to a technology that might
                        offer a
                        more comprehensive fit with the full range of document structures with which researchers
                        need
                        to interact both intellectually and programmatically. Proceeding from a high-level
                        view of why
                        XML has the limitations it has, this presentation explores how an alternative model
                        of Text as
                        Graph (TAG) might address these types of structures and tasks in a more natural and
                        idiomatic
                        way than is available within an XML paradigm.
                     </p>
                     <p id="d2e95">From an informatic perspective all documents are structured, including those that
                        are
                        traditionally identified as plain text. Some of the structural properties of plain-text
                        documents are expressed through formatting conventions, such as the use of blank lines
                        to
                        separate paragraphs, or of indentation to mark the beginning of a paragraph, or of
                        centering
                        to mark a header. The sequence of words in a text, delimited in a complex way that
                        involves
                        white space, punctuation, and other symbols, constitutes, on a certain level, an implicit
                        organizational tier above the sequence of characters.<sup class="fn-label"><a href="#d2e97" class="footnoteref" id="d2e97-ref">[2]</a></sup> The conventions at work in plain text do not formally, completely, unambiguously,
                        or in a wholly standardized way differentiate the content of a document from the coded
                        representation of its structure (or, perhaps more accurately, structures), which problematizes
                        using plain text for document processing (whether for data mining, publication, or
                        other
                        purposes). The challenges this poses have come to be addressed by representing the
                        structural
                        properties of a document not through plain-text characters (which might be considered
                        pseudo-markup), but through formal, standardized markup, such as XML.
                     </p>
                     <p id="d2e104">The XML data model is an ordered tree, or, more precisely, a rooted and ordered directed
                        acyclic graph that prohibits multiple parentage, which in the document-processing
                        community
                        has come to be understood as representing an Ordered Hierarchy of Content Objects
                        (OHCO). It
                        is well known that the OHCO model works reasonably well for describing structures
                        that consist
                        of single ordered hierarchies, such as the exhaustive tesselated division of a novel
                        into
                        chapters and the chapters into paragraphs, but it is not well suited to modeling structures
                        that cannot be represented fully by a single tree.<sup class="fn-label"><a href="#d2e106" class="footnoteref" id="d2e106-ref">[3]</a></sup> The markup community has focused intensively on overlapping hierarchies as a
                        challenge to the OHCO model,<sup class="fn-label"><a href="#d2e118" class="footnoteref" id="d2e118-ref">[4]</a></sup> and with good reason, but we argue below that overlap is only one manifestation of
                        a higher-level problem, and this perspective has implications for deciding how best
                        to
                        overcome it. If overlap were <span class="ital">the</span> problem, projecting multiple
                        trees over the content might solve it (e.g., through the SGML <span class="bold">CONCUR</span> feature<sup class="fn-label"><a href="#d2e131" class="footnoteref" id="d2e131-ref">[5]</a></sup>), as might the adoption of a model that permits but does not require hierarchy,
                        including multiple hierarchies, such as the range model exemplified by LMNL.<sup class="fn-label"><a href="#d2e138" class="footnoteref" id="d2e138-ref">[6]</a></sup> But if the problem is that a tree is inadequate for higher-level reasons that are
                        only partially exemplified by overlap, we might have more success if we address the
                        issue at
                        that higher level. The Text As Graph model that we introduce below is not intended
                        to be a
                        solution to <q>the overlap problem in XML</q>; it is built around a fresh
                        consideration of the textual structures, both latent and overt, that a data model
                        will need to
                        be able to represent. It is nonetheless not accidental that TAG agrees in some respects
                        with
                        XML, in others with GODDAG or TexMECS, and in others with LMNL, since all of these
                        specifications have sought, in partially converging ways, to model text structure.<sup class="fn-label"><a href="#d2e147" class="footnoteref" id="d2e147-ref">[7]</a></sup></p>
                     <p id="d2e152">Below we identify specific situations that pose problems for an OHCO perspective.
                        With
                        respect to hierarchy, in addition to overlap, where text may have multiple overlapping
                        hierarchies, text may not be hierarchical at all. We also identify situations where
                        text is
                        not ordered, as well as those where XML creates artifactual content objects that do
                        not
                        clearly correspond to what a human would consider a textual content object. In other
                        words,
                        TAG seeks to interrogate and address the O, the H, and the CO of OHCO, and not only
                        the
                        well-known multiple-hierarchy challenge.
                     </p>
                  </div>
                  <div class="section" id="d2e154">
                     <h2 class="title" style="clear: both">The TAG/hypergraph model for text<sup class="fn-label"><a href="#d2e157" class="footnoteref" id="d2e157-ref">[8]</a></sup></h2>
                     <div class="section" id="d2e163">
                        <h3 class="title" style="clear: both">Overview</h3>
                        <p id="d2e166">The Text As Graph (TAG) data model consists of a directed property hypergraph for
                           modeling text, markup (roughly comparable to XML elements), and annotations (roughly
                           comparable to what XML attributes would be like if they could contain markup, including
                           attributes on attributes). A hypergraph consists of a set of nodes and a set of edges
                           and
                           hyperedges. Nodes and (hyper)edges may have properties, including <code class="code">type</code> (see,
                           for example, the four types of nodes listed below).
                        </p>
                        <p id="d2e171">Graph models for text and markup have been proposed before (GODDAG [see, e.g., <a class="xref" id="d2e173" href="javascript:showcite('cite-sperberg-huitfeldt_2000','d2e173')">Sperberg-McQueen and Huitfeldt 2000</a>], GrAF [see, e.g., <a class="xref" id="d2e175" href="javascript:showcite('cite-ide_2007','d2e175')">Ide and Suderman 2007</a>]), but
                           the model advanced in this paper differs from those because it incorporates a <span class="bold">hypergraph</span> (<a href="https://en.wikipedia.org/wiki/Hypergraph" class="link" target="_new">https://en.wikipedia.org/wiki/Hypergraph</a>). Hypergraphs are especially
                           valuable for text modeling because they can be implemented using sets, and methods
                           for
                           reasoning over and operating on sets are proven and well known (<a href="https://en.wikipedia.org/wiki/Set_(mathematics)" class="link" target="_new">https://en.wikipedia.org/wiki/Set_(mathematics)</a>). Hypergraphs differ from
                           traditional graphs, the edges of which can connect only two nodes with each other,
                           because
                           the edges in a hypergraph can connect more than two nodes with one another, and for
                           that
                           reason they are called <span class="bold">hyperedges</span>. Hypergraphs can have
                           directed and undirected hyperedges, and TAG uses only directed hyperedges, which assert
                           a
                           directed relationship between two non-empty sets of nodes, one for the source (called
                           the
                           <span class="bold">head</span>) and one for the target (called the <span class="bold">tail</span>). As we explain below, in the TAG model, the directionality of
                           a hyperedge may be used for purposes other than modeling an order or a hierarchy of
                           the
                           nodes.
                        </p>
                        <p id="d2e194">Like LMNL and GODDAG, both of which are discussed in more detail below, and unlike
                           XML,
                           TAG is defined as a data model, rather than by its syntax. At present TAG does not
                           have its
                           own syntactic representation.
                        </p>
                     </div>
                     <div class="section" id="d2e196">
                        <h3 class="title" style="clear: both">TAG example</h3>
                        <div class="figure" id="shakespeare_hypergraph">
                           <p class="title">Figure&nbsp;1: William Shakespeare, Sonnet 71</p>
                           <div class="figure-contents">
                              <div class="mediaobject" id="d2e202"><img alt="png image (shakespeare-sonnet-71_hypergraph.png)" src="shakespeare-sonnet-71_hypergraph.png"></div>
                              <div class="caption">
                                 <p id="d2e206">The Document node is beige, the Text nodes are pink, and the Markup nodes are green
                                    (those with the <code class="code">name</code> property value of <q>quatrain</q> or
                                    <q>couplet</q>) and cyan (those with the <code class="code">name</code> property value of
                                    <q>line</q>). A chain of regular (one-to-one) edges, represented by solid
                                    black arrowheads, begins at the Document node and connects the Text nodes in order.
                                    Text
                                    nodes in this case are entire lines of text, but they could also be smaller units;
                                    see
                                    the discussion of Overlap, below.
                                 </p>
                              </div>
                           </div>
                        </div>
                        <p id="d2e223">The illustration of a TAG hypergraph of William Shakespearea’s Sonnet 71 (<a class="xref" href="#sonnet-71_text" id="d2e225">Appendix A</a>), above, includes a Document node, fourteen Text nodes, and
                           eighteen Markup nodes (fourteen with their <code class="code">name</code> property value equal to
                           <q>line</q>, three to <q>quatrain</q>, and one to <q>couplet</q>).
                           Regular (one-to-one) edges start at the Document node and chain all Text nodes in
                           textual
                           order. Hyperedges point from the Markup nodes into sets of Text nodes. In this case,
                           hyperedges that start in Markup nodes with the <code class="code">name</code> property of
                           <q>line</q> happen to point to a set that consists of a single Text node, and
                           those with <code class="code">name</code> property values of <q>quatrain</q> and
                           <q>couplet</q> happen to point to sets of four and two Text nodes, respectively.
                           Note that in TAG, in contrast to XML, a Markup node corresponding to the XML root
                           element,
                           although permitted, is not required, and we’ve omitted it here. Also in contrast to
                           XML, the
                           <q>quatrain</q> and <q>couplet</q> Markup nodes point directly to the Text
                           nodes, and not to <q>line</q> Markup nodes (although that, too, is possible; see the
                           discussion of hierarchy below).
                        </p>
                     </div>
                     <div class="section" id="d2e265">
                        <h3 class="title" style="clear: both">How TAG represents selected structural properties of text</h3>
                        <p id="d2e268">This section describes in an introductory way how TAG represents order, textual content,
                           markup, overlap, and discontinuity. Some of these issues are taken up in more detail
                           later,
                           after we introduce the types of nodes, edges, and hyperedges that make up the TAG
                           model of
                           text.
                        </p>
                        <div class="section" id="d2e270">
                           <h4 class="title" style="clear: both">Order</h4>
                           <p id="d2e273">A distinctive feature of the TAG model is that textual content is an ordered set of
                              Text nodes, but Markup and Annotation nodes are not ordered. Because Markup nodes
                              all
                              point directly or through intermediaries to Text nodes, the order of Markup nodes
                              becomes
                              a derived property of the order of the Text nodes to which the markup applies.<sup class="fn-label"><a href="#d2e275" class="footnoteref" id="d2e275-ref">[9]</a></sup> This bottom-up perspective on order within a document distinguishes TAG from
                              the top-down, ordered-tree perspective of XML and GODDAG, where, contrary to TAG,
                              the
                              order of nodes (including Text nodes) is derived, through depth-first traversal, from
                              the
                              order of their parent nodes.<sup class="fn-label"><a href="#d2e279" class="footnoteref" id="d2e279-ref">[10]</a></sup> In this respect TAG is closer to LMNL, where order in the document also
                              inheres at the lowest level, which in LMNL is the atoms that make up the content.
                           </p>
                        </div>
                        <div class="section" id="d2e293">
                           <h4 class="title" style="clear: both">Textual content</h4>
                           <p id="d2e296">Textual content in TAG is expressed by nodes with a <span class="bold">type</span> value of <q>text</q>, each of which represents a segment of
                              textual content (Text nodes may also be empty). The order of the text is stored as
                              directed regular (one-to-one) edges between pairs of Text nodes; this chain begins
                              at the
                              Document node, which points to the first Text node, and a single, unbroken chain connects
                              all Text nodes in the document except those in annotations.<sup class="fn-label"><a href="#d2e304" class="footnoteref" id="d2e304-ref">[11]</a></sup> Annotations (see below), which typically encode metadata, can be understood as
                              ancillary documents, and their textual content is modeled as separate chains that
                              begin at
                              the Annotation node.
                           </p>
                        </div>
                        <div class="section" id="d2e310">
                           <h4 class="title" style="clear: both">Markup</h4>
                           <p id="d2e313">Markup in XML serves four purposes simultaneously: <span class="bold">containment</span>, <span class="bold">dominance</span> (<span class="bold">hierarchy</span>), <span class="bold">datatyping</span>, and
                              <span class="bold">order</span>. In XML, an ancestor element both <span class="bold">contains</span> (starts before and ends after) its descendants and
                              <span class="bold">dominates</span> them (is connected to them by a path that
                              travels only downward in the tree). An XML element specifies a <span class="bold">type</span> (through the generic identifier), and it instantiates <span class="bold">order</span> because XML is defined as an ordered tree of nodes,
                              including element nodes.
                           </p>
                           <p id="d2e343">TAG separates these four functions. As described above, <span class="bold">order</span> in TAG is a property only of Text nodes. <span class="bold">Containment</span> is modeled by subset relations that are independent of any
                              hierarchy; it is axiomatic that a superset (of Text nodes) <span class="ital">contains</span> all of its proper subsets. <span class="bold">Datatyping</span> is implemented through Markup-to-Text hyperedges that point from
                              a Markup node to a set of Text nodes, where the Markup node has a <code class="code">name</code>
                              property, the value of which is comparable to the generic identifier (name) of an
                              XML
                              element. Unlike in XML, however, Markup-to-Text hyperedges do not model hierarchy;
                              their
                              only function is datatyping (and, through subset relations of their tails, containment).
                              Because Text nodes can have multiple incoming hyperedges on them, textual content
                              can have
                              multiple markup on it, and because Markup-to-Text hyperedges do not form a tree, that
                              situation does not engender overlap concerns. Annotations on Markup nodes provide
                              supplementary information (metadata) about the node, similarly to attributes in XML,
                              except that in TAG, as in LMNL, annotations can have rich content, and are not limited
                              to
                              just a name and an atomic value. As in XML and unlike in LMNL, annotations on a Markup
                              or
                              Annotation node in TAG are unordered.
                           </p>
                           <p id="d2e360">In TAG, as in LMNL, a document is not required to express a hierarchy. Where dominance
                              relations must be modeled, TAG uses Markup-to-Markup hyperedges to implement a hierarchy.
                              The fact that hierarchy is optional is an important distinction from XML (single
                              hierarchy) and GODDAG (one or more hierarchies).
                           </p>
                           <p id="d2e362">Markup nodes do not contain other Markup nodes; Markup nodes identify (point to) sets
                              of Text nodes, and the Text nodes may participate in subset relationships with one
                              another. This means that in TAG it is not meaningful to ask whether a single set of
                              Text
                              nodes identified with one Markup node as a paragraph and with a different Markup node
                              as a
                              quotation represents a paragraph that consists of a quotation or a quotation that
                              consists
                              of a paragraph. Where the hierarchy of coextensive paragraphs and quotations matters,
                              the
                              relationship may be modeled, but as one of dominance (hierarchy), rather than of
                              containment.
                           </p>
                           <p id="d2e364">The separation of these four functions means that a Markup node provides datatyping
                              through its <code class="code">name</code> property, although this property is optional (see the
                              discussion of Scope of reference, below). Because the tail of a Markup-to-Text is
                              a
                              non-empty set of Text nodes, and Text nodes are ordered and have intrinsic subset
                              relationships, markup also specifies order and containment, but only indirectly. The
                              specification of dominance is optional, and is entirely a property of Markup nodes.
                           </p>
                        </div>
                        <div class="section" id="d2e369">
                           <h4 class="title" style="clear: both">Overlap and self-overlap</h4>
                           <p id="d2e372">Overlap between the Text node tails of two or more Markup-to-Text hyperedges does
                              not
                              require a special construction in TAG. Each Markup-to-Text hyperedge points to a set
                              of
                              Text nodes, and those Text node tails may or may not overlap with one another. In
                              the
                              set-based terminology of TAG, overlap describes a relationship between sets where
                              there is
                              a non-empty intersection and neither set is a subset of the other. In this respect,
                              overlap of sets of Text nodes in TAG is similar to the LMNL overlap of ranges of atoms
                              (but see immediately below about discontinuity). Self-overlap (in XML terms, overlap
                              that
                              involves two elements with the same generic identifier) is not a special case in TAG
                              because two Markup nodes with the same <code class="code">name</code> property (datatype) each is the
                              head of its own hyperedge. Overlap in TAG, as in LMNL, is a matter of containment,
                              rather
                              than of dominance. The GODDAG developers have identified the importance of the difference
                              between containment and dominance [<a class="xref" id="d2e377" href="javascript:showcite('cite-sperberg-huitfeldt_2000','d2e377')">Sperberg-McQueen and Huitfeldt 2000</a>, <a class="xref" id="d2e379" href="javascript:showcite('cite-sperberg_2008-bielefeld','d2e379')">Sperberg-McQueen and Huitfeldt 2008a</a>, <a class="xref" id="d2e381" href="javascript:showcite('cite-sperberg-huitfeldt_2008','d2e381')">Sperberg-McQueen and Huitfeldt 2008b</a>], while
                              in XML the two are not distinct.
                           </p>
                        </div>
                        <div class="section" id="d2e383">
                           <h4 class="title" style="clear: both">Discontinuity</h4>
                           <p id="d2e386">In XML, GODDAG, and LMNL, discontinuity is expressed with more than one element
                              (XML/GODDAG) or more than one range (LMNL), and the fact that the discontinuous parts
                              (with respect to hierarchical or linear structure) form a whole must be encoded
                              separately. That would then require subsequent reunification, higher in the hierarchy
                              in
                              GODDAG, and in the limen and with coindexed annotation values in LMNL.<sup class="fn-label"><a href="#d2e388" class="footnoteref" id="d2e388-ref">[12]</a></sup> In TAG, discontinuity in the Text nodes that constitute the tail of a
                              Markup-to-Text hyperedge is modeled exactly the same way as continuity because the
                              Text
                              nodes are not required to be continuous. This means there is only one Markup node
                              for all
                              the Text nodes in an instance of discontinuous markup, and no obligatory partitioning
                              into
                              segments is needed. TexMECS syntax is capable of modeling discontinuity directly with
                              suspend-tags and resume-tags [<a class="xref" id="d2e411" href="javascript:showcite('cite-huitfeldt_2003','d2e411')">Huitfeldt and Sperberg-McQueen 2003</a> §2.2.4], but if a TexMECS
                              document is to be parsed into GODDAG, the fragments are modeled as separate structural
                              components, and the difference between GODDAG and XML in this respect is that because
                              GODDAG permits multiple parentage, it is possible to create an additional parent node
                              for
                              the fragments. TAG, then, views fragmentation that must be reunited as an undesirable
                              side-effect of the XML, GODDAG, and LMNL models, and regards linearly discontinuous
                              content as a single item that may be separated when necessary, such as for serialization
                              in LMNL sawtooth syntax, rather than as two objects that may be united when necessary.<sup class="fn-label"><a href="#d2e413" class="footnoteref" id="d2e413-ref">[13]</a></sup></p>
                        </div>
                     </div>
                     <div class="section" id="d2e429">
                        <h3 class="title" style="clear: both">TAG components</h3>
                        <div class="section" id="d2e432">
                           <h4 class="title" style="clear: both">Nodes</h4>
                           <p id="d2e435">The following types of nodes are supported by TAG:
                              <div class="itemizedlist" id="d2e437">
                                 <ul>
                                    <li id="d2e438">
                                       <p id="d2e439"><span class="bold">Document nodes.</span> Each Document node represents a
                                          single document stored in the graph.<sup class="fn-label"><a href="#d2e443" class="footnoteref" id="d2e443-ref">[14]</a></sup> It is connected by a regular edge to the first Text node in the
                                          document. Document nodes have no properties other than the <code class="code">type</code>
                                          property value of <q>document</q>.
                                       </p>
                                    </li>
                                    <li id="d2e453">
                                       <p id="d2e454"><span class="bold">Text nodes.</span> The textual content of a TAG
                                          document is stored in one or more Text nodes, roughly comparable to XML Text nodes.
                                          The order of the Text nodes is represented by directed edges that connect them in
                                          textual order.<sup class="fn-label"><a href="#d2e458" class="footnoteref" id="d2e458-ref">[15]</a></sup> The first Text node can be recognized because there is a link to it from
                                          the Document node. The <code class="code">value</code> of a Text node is the text it represents,
                                          comparable to the string value of an XML Text node. Text nodes in TAG may be empty;
                                          pointing from a Markup node to an empty Text node provides functionality comparable
                                          to that of empty elements in XML.<sup class="fn-label"><a href="#d2e467" class="footnoteref" id="d2e467-ref">[16]</a></sup></p>
                                       <p id="d2e470">The simplest TAG document has only a Document node and a single Text node. The
                                          text of the document is subdivided into Text nodes to support their association with
                                          different Markup nodes. As in the XML tree, TAG Text nodes are made up of
                                          characters, but the characters are not types in the TAG data model, and TAG has no
                                          counterpart to LMNL atoms.<sup class="fn-label"><a href="#d2e472" class="footnoteref" id="d2e472-ref">[17]</a></sup></p>
                                    </li>
                                    <li id="d2e479">
                                       <p id="d2e480"><span class="bold">Markup nodes.</span> Markup nodes correspond roughly
                                          to element nodes in XML, and each instance of markup is represented by its own node.
                                          The only property of a Markup node is a <code class="code">name</code>, which is analogous to the
                                          XML generic identifier, but TAG also permits anonymous Markup nodes, much as LMNL
                                          permits anonymous annotations (see below, under Scope of reference, for an example
                                          of how these might be used). Markup nodes are connected to one or more Text nodes
                                          by
                                          a hyperedge, where the Markup node is the head and a set of Text nodes is the tail.
                                          There is no requirement that the Text nodes in the tail of a Markup-to-Text
                                          hyperedge be contiguous.
                                       </p>
                                    </li>
                                    <li id="d2e487">
                                       <p id="d2e488"><span class="bold">Annotation nodes.</span> Annotation nodes represent
                                          metadata about the targets of Markup nodes, and are thus similar to the way
                                          attributes represent properties of elements in XML. The <code class="code">name</code> property
                                          of an Annotation node is analogous to the name of an XML attribute. As with LMNL
                                          annotations and unlike XML attributes, Annotation nodes may have content that
                                          includes markup, there may be annotations on annotations, and there may be multiple
                                          annotations with the same name on a single Markup or Annotation node. Unlike LMNL
                                          but like XML attributes, annotations are unordered (but if they contain Text nodes,
                                          those are connected by regular, one-to-one edges that form them into a chain,
                                          beginning at the Annotation node). The Shakespearean sonnet example above does not
                                          contain any Annotation nodes.
                                       </p>
                                    </li>
                                 </ul>
                              </div>
                              
                           </p>
                        </div>
                        <div class="section" id="d2e496">
                           <h4 class="title" style="clear: both">Edges and hyperedges</h4>
                           <div class="section" id="d2e499">
                              <h5 class="title" style="clear: both">Overview</h5>
                              <p id="d2e502">The following edge relationships are supported by the model. All edges are directed;
                                 some are regular (one-to-one) edges and others are hyperedges. By definition, a directed
                                 hyperedge points from one non-empty set of nodes (the head) to another non-empty set
                                 of
                                 nodes (the tail). In TAG, all hyperedges have exactly one node in the head and one
                                 or
                                 more nodes in the tail except for Annotation-to-Markup hyperedges, which have one
                                 or
                                 more nodes in the head and exactly one node in the tail. Edges and hyperedges in a
                                 hypergraph may have properties, although TAG does not at present make use of them.<sup class="fn-label"><a href="#d2e504" class="footnoteref" id="d2e504-ref">[18]</a></sup></p>
                           </div>
                           <div class="section" id="d2e507">
                              <h5 class="title" style="clear: both">Edges that express order</h5>
                              <p id="d2e510">Text nodes are ordered with the following regular (one-to-one) edge relationships,
                                 and constitute the only ordered sets in TAG:
                                 <div class="itemizedlist" id="d2e512">
                                    <ul>
                                       <li id="d2e513">
                                          <p id="d2e514"><span class="bold">Text-to-Text directed edges.</span> Text nodes are
                                             connected with directed edges, which chain and therefore order them, so that the
                                             linear order of the text is preserved. In the Shakespearean sonnet example above,
                                             Text-to-Text directed edges point from the first Text node to the second, from the
                                             second and third, etc., until the end of the text.
                                          </p>
                                       </li>
                                       <li id="d2e518">
                                          <p id="d2e519"><span class="bold">Document-to-Text directed edges.</span> A
                                             Document-to-Text directed edge points from the Document node to the first Text
                                             node contained in that document. In the Shakespearean sonnet example above, a
                                             single Document-to-Text directed edge points from the Document node to the first
                                             Text node, which in this case represents the first line of the poem.
                                          </p>
                                       </li>
                                       <li id="d2e523">
                                          <p id="d2e524"><span class="bold">Annotation-to-Text directed edges.</span>
                                             Annotations can be conceptualized as ancillary documents, and, like documents,
                                             they may contain text, which is represented as a chain of Text nodes. Analogously
                                             to the use of a Document-to-Text directed edge to point to the first Text node in
                                             the main document, an Annotation-to-Text directed edge points from an Annotation
                                             node to the first Text node contained in that annotation. This Text node is part
                                             of the Text of the annotation, and not of the Text being annotated. Separating the
                                             Text nodes in the document from those in the annotations is comparable to the fact
                                             that the values of attributes in XML are not part of the string value of the
                                             document. Text in an annotation, like the main document text, may be marked up
                                             with Markup nodes, which is to say that the Text nodes of an annotation may serve
                                             as the tail of the Markup-to-Text hyperedges described below.
                                          </p>
                                       </li>
                                    </ul>
                                 </div>
                              </p>
                           </div>
                           <div class="section" id="d2e528">
                              <h5 class="title" style="clear: both">Hyperedges that specify and type sets of Text nodes</h5>
                              <p id="d2e531">
                                 
                                 <div class="itemizedlist" id="d2e533">
                                    <ul>
                                       <li id="d2e534">
                                          <p id="d2e535"><span class="bold">Markup-to-Text directed hyperedges.</span>
                                             Markup-to-Text hyperedges connect a single Markup node (head) to a set of Text
                                             nodes (tail). In the Shakespearean sonnet example above, fourteen Markup-to-Text
                                             hyperedges each point from a single Markup node with a <code class="code">name</code> property
                                             value of <q>line</q> to a set of one Text node, three Markup-to-Text
                                             hyperedges with a <code class="code">name</code> property value of <q>quatrain</q> each
                                             point to a set of four Text nodes, and one Markup-to-Text hyperedge with a
                                             <code class="code">name</code> property value of <q>couplet</q> points to a set of
                                             two Text nodes. Note that the <q>quatrain</q> and <q>couplet</q>
                                             Markup nodes point to Text nodes, and not to the <q>line</q> Markup nodes
                                             (although Markup-to-Markup hyperedges can be added if that is needed). This is an
                                             important difference from the XML tree structure, where Text nodes would be the
                                             children of <code class="code">&lt;line&gt;</code> elements, but not of the
                                             <code class="code">&lt;quatrain&gt;</code> and <code class="code">&lt;couplet&gt;</code> elements.
                                          </p>
                                       </li>
                                    </ul>
                                 </div>
                              </p>
                           </div>
                           <div class="section" id="d2e577">
                              <h5 class="title" style="clear: both">Hyperedges that express targets of annotation</h5>
                              <p id="d2e580">
                                 <div class="itemizedlist" id="d2e581">
                                    <ul>
                                       <li id="d2e582">
                                          <p id="d2e583"><span class="bold">Annotation-to-Markup directed hyperedges.</span>
                                             Annotation-to-Markup directed hyperedges point from a set of Annotation nodes to
                                             the Markup node that they are annotating. 
                                          </p>
                                       </li>
                                       <li id="d2e587">
                                          <p id="d2e588"><span class="bold">Annotation-to-Annotation directed hyperedges.</span>
                                             These make it possible to add annotations to annotations, that is, to represent
                                             metadata about annotations. This feature is borrowed from LMNL. As with
                                             Annotation-to-Markup hyperedges, the head is the set of annotations being added,
                                             and in this case the tail is the Annotation node (rather than Markup node) to
                                             which they are being added.
                                          </p>
                                       </li>
                                    </ul>
                                 </div>
                                 
                              </p>
                           </div>
                           <div class="section" id="d2e593">
                              <h5 class="title" style="clear: both">Hyperedges that express dominance</h5>
                              <p id="d2e596">
                                 <div class="itemizedlist" id="d2e597">
                                    <ul>
                                       <li id="d2e598">
                                          <p id="d2e599"><span class="bold">Markup-to-Markup directed hyperedges.</span>
                                             Markup-to-Markup hyperedges connect a single Markup node (head) to a set of Markup
                                             nodes (tail). The Shakespearean sonnet example above does not include any
                                             Markup-to-Markup hyperedges, but if we wished to encode, for example, that a
                                             quatrain dominates its lines hierarchically, and does not merely contain their
                                             Text nodes, we could express that with a Markup-to-Markup hyperedge between a
                                             <q>quatrain</q> Markup node (head) and its four <q>line</q>
                                             Markup nodes (tail).
                                          </p>
                                       </li>
                                    </ul>
                                 </div>
                              </p>
                           </div>
                        </div>
                        <div class="section" id="d2e609">
                           <h4 class="title" style="clear: both">Constraints</h4>
                           <p id="d2e612">Only the following types of edges are permitted:</p>
                           <div class="table-wrapper" id="d2e614">
                              <p class="title">Table&nbsp;I</p>
                              <table class="table">
                                 <tr>
                                    <th colspan="2" rowspan="2"></th>
                                    <th colspan="4" align="center">Head</th>
                                 </tr>
                                 <tr>
                                    <th>Document</th>
                                    <th>Text</th>
                                    <th>Markup</th>
                                    <th>Annotation</th>
                                 </tr>
                                 <tr>
                                    <th rowspan="4" valign="middle">Tail</th>
                                    <th>Document</th>
                                    <td>-</td>
                                    <td>-</td>
                                    <td>-</td>
                                    <td>-</td>
                                 </tr>
                                 <tr>
                                    <th>Text</th>
                                    <td>edge</td>
                                    <td>edge</td>
                                    <td>hyperedge</td>
                                    <td>edge</td>
                                 </tr>
                                 <tr>
                                    <th>Markup</th>
                                    <td>-</td>
                                    <td>-</td>
                                    <td>hyperedge</td>
                                    <td>hyperedge</td>
                                 </tr>
                                 <tr>
                                    <th>Annotation</th>
                                    <td>-</td>
                                    <td>-</td>
                                    <td>-</td>
                                    <td>hyperedge</td>
                                 </tr>
                              </table>
                           </div>
                           <p id="d2e674">An implementation must raise an error if:
                              <div class="itemizedlist" id="d2e676">
                                 <ul>
                                    <li id="d2e677">
                                       <p id="d2e678">a document contains any type of node, regular (one-to-one) edge, or hyperedge
                                          not included in the preceding table
                                       </p>
                                    </li>
                                    <li id="d2e680">
                                       <p id="d2e681">a document does not have a single Document node, which points to a single Text
                                          node
                                       </p>
                                    </li>
                                    <li id="d2e683">
                                       <p id="d2e684">a document does not have at least one Text node</p>
                                    </li>
                                    <li id="d2e686">
                                       <p id="d2e687">a Document node points to anything other than a single Text node</p>
                                    </li>
                                    <li id="d2e689">
                                       <p id="d2e690">a Text node points to anything other than another single Text node</p>
                                    </li>
                                    <li id="d2e692">
                                       <p id="d2e693">there is not exactly one Text node in the main text and in the text of every
                                          annotation that does not point to another Text node, except that an Annotation is
                                          not required to have text.
                                       </p>
                                    </li>
                                    <li id="d2e695">
                                       <p id="d2e696">two contiguous Text nodes are in the tail of all of the same Markup-to-Text hyperedges<sup class="fn-label"><a href="#d2e698" class="footnoteref" id="d2e698-ref">[19]</a></sup></p>
                                    </li>
                                    <li id="d2e701">
                                       <p id="d2e702">a regular (one-to-one) edge from an Annotation node points to anything other
                                          than a single Text node
                                       </p>
                                    </li>
                                    <li id="d2e704">
                                       <p id="d2e705">a Text node is not part of a continuous chain that begins at a Document node or
                                          Annotation node 
                                       </p>
                                    </li>
                                    <li id="d2e707">
                                       <p id="d2e708">a Markup node is the head of more than one Markup-to-Text hyperedge or more than
                                          one Markup-to-Markup hyperedge<sup class="fn-label"><a href="#d2e710" class="footnoteref" id="d2e710-ref">[20]</a></sup></p>
                                    </li>
                                    <li id="d2e719">
                                       <p id="d2e720">a Markup-to-Text hyperedge has anything other than a single Markup node in its
                                          head and anything other than a non-empty set of Text nodes in its tail
                                       </p>
                                    </li>
                                    <li id="d2e723">
                                       <p id="d2e724">a Markup-to-Markup hyperedge has anything other than a single Markup node in its
                                          head and anything other than a non-empty set of Markup nodes in its tail
                                       </p>
                                    </li>
                                    <li id="d2e726">
                                       <p id="d2e727">the head of a hyperedge contains anything other than a single Markup node
                                          (Markup-to-Text or Markup-to-Markup hyperedge) or a non-empty set of Annotation
                                          nodes (Annotation-to-Markup hyperedge)
                                       </p>
                                    </li>
                                    <li id="d2e729">
                                       <p id="d2e730">the tail of a hyperedge contains anything except a non-empty set of Text nodes
                                          (Markup-to-Text hyperedge), a non-empty set of Markup nodes (Markup-to-Markup
                                          hyperedge), or a single Markup or Annotation node (Annotation-to-Markup and
                                          Annotation-to-Annotation hyperedge)
                                       </p>
                                    </li>
                                    <li id="d2e732">
                                       <p id="d2e733">the head of a regular edge is anything other than a Document node, Annotation
                                          node, or Text node
                                       </p>
                                    </li>
                                    <li id="d2e735">
                                       <p id="d2e736">the tail of a regular edge is anything other than a Text node</p>
                                    </li>
                                    <li id="d2e738">
                                       <p id="d2e739">the head or tail of a hyperedge is empty or contains nodes that are not all of
                                          the same type
                                       </p>
                                    </li>
                                    <li id="d2e741">
                                       <p id="d2e742">any two edges or hyperedges have the same type, the same head, and the same
                                          tail
                                       </p>
                                    </li>
                                    <li id="d2e744">
                                       <p id="d2e745">an Annotation node does not have a name</p>
                                    </li>
                                 </ul>
                              </div>
                           </p>
                        </div>
                     </div>
                  </div>
                  <div class="section" id="d2e747">
                     <h2 class="title" style="clear: both">Challenges for text modeling</h2>
                     <p id="d2e750">In this section we illustrate several types of textual structures that have proven
                        awkward
                        for XML because they contradict or otherwise are not part of the OHCO tree model.
                        For each we
                        provide an abstract description of the problem, of one or more XML workarounds, and
                        their
                        GODDAG, TexMECS, and LMNL counterparts (as appropriate), illustrated with examples
                        drawn from
                        use cases in Digital Humanities research projects.
                     </p>
                     <div class="section" id="d2e752">
                        <h3 class="title" style="clear: both">Overlap</h3>
                        <p id="d2e755">The challenge to text modeling in XML that has attracted the most attention is overlap.
                           For example, notice in the image below how the phrase <q>Two vast and trunkless legs of
                              stone Stand in the desart</q> begins in the middle of line 2 and ends in the middle of
                           line 3, an absence of synchronicity between verse lines and sentences that is called
                           <span class="ital">enjambment</span>.<sup class="fn-label"><a href="#d2e763" class="footnoteref" id="d2e763-ref">[21]</a></sup> :
                        </p>
                        <div class="figure" id="ozymandias">
                           <p class="title">Figure&nbsp;2: Percy Bysshe Shelley, <q>Ozymandias</q></p>
                           <div class="figure-contents">
                              <div class="mediaobject" id="d2e772"><img alt="png image (ozymandias.png)" src="ozymandias.png"></div>
                              <div class="caption">
                                 <p id="d2e776">[Image from
                                    <a href="http://piez.org/wendell/papers/dh2010/clix-sonnets/ozymandias-map.svg" class="link" target="_new">http://piez.org/wendell/papers/dh2010/clix-sonnets/ozymandias-map.svg</a>,
                                    which is part of <a class="xref" id="d2e781" href="javascript:showcite('cite-piez_2010','d2e781')">Piez 2010</a>. The overlap is easier to see in the
                                    original SVG, which is animated, and highlights portions of the document in response
                                    to
                                    mouse events.]
                                 </p>
                              </div>
                           </div>
                        </div>
                        <p id="d2e783">Piez’s illustration is actually of LMNL ranges, rather than of XML element trees.
                           The
                           same structure might be visualized as independent overlapping trees as follows, where
                           cyan
                           represents the tree of metrical lines and green represents the tree of linguistic
                           phrases:
                        </p>
                        <div class="figure" id="ozymandias_trees">
                           <p class="title">Figure&nbsp;3: Percy Bysshe Shelley, <q>Ozymandias</q></p>
                           <div class="figure-contents">
                              <div class="mediaobject" id="d2e790"><img alt="png image (ozymandias_trees.png)" src="ozymandias_trees.png"></div>
                              <div class="caption">
                                 <p id="d2e794">Projecting two independent trees over a common set of words. In XML the individual
                                    words would not be children of <code class="code">&lt;line&gt;</code> and <code class="code">&lt;phrase&gt;</code>
                                    elements, and would instead be grouped inside Text node children of those
                                    elements.
                                 </p>
                              </div>
                           </div>
                        </div>
                        <p id="d2e802">Because it is not possible to represent the preceding structure in XML markup, the
                           following pseudo-XML is not well-formed:
                        </p><pre class="programlisting" id="d2e804">&lt;line&gt;&lt;phrase&gt;Who said —&lt;/phrase&gt; &lt;phrase&gt;“Two vast and trunkless legs of stone&lt;/line&gt;
&lt;line&gt;Stand in the desart….&lt;/phrase&gt; &lt;phrase&gt;Near them,&lt;/phrase&gt; &lt;phrase&gt;on the sand&lt;/phrase&gt;&lt;/line&gt;</pre><p id="d2e806">New XML users often misunderstand the prohibition against overlap as a prohibition
                           against overlapping <span class="ital">tags</span>, but if that were the entire
                           issue, it could be remedied by simply removing the syntactic prohibition. But the
                           rule about
                           tags exists because tags must represent a tree, hierarchy in a tree prohibits multiple
                           parentage, and overlap would permit a node to have more than one parent. Overlap is
                           possible
                           in GODDAG only incidentally because TexMECS permits overlapping tags; at a higher
                           level it
                           is because GODDAG permits Text nodes to have multiple parents and TexMECS serializes
                           the
                           GODDAG model. LMNL sawtooth syntax may look like XML syntax with the prohibition against
                           overlapping tags removed, but the real difference is at the level of the data model:
                           LMNL
                           <span class="ital">ranges</span> can overlap and XML <span class="ital">elements</span> cannot because the content between XML start and end tags is a
                           sequence of descendant <span class="ital">nodes in a tree</span>, and not a <span class="ital">range of textual atoms</span>.
                        </p>
                        <p id="d2e823">TAG represents overlap naturally because the TAG counterpart to an XML element is
                           a
                           directed hyperedge that associates a head Markup node with a set of tail Text nodes.
                           To tag
                           a line of poetry in the example above, TAG would create a hyperedge from a Markup
                           node with
                           the <code class="code">name</code> property value of <q>line</q> (comparable to a
                           <code class="code">&lt;line&gt;</code> element in XML) to a set of Text nodes (comparable to Text nodes
                           in XML). Sets are unordered, but because the TAG model requires <q>sequence</q>
                           edges between Text nodes, which record the continuous order of the text stream (comparable
                           to the sequence of atoms in the LMNL model), the textual content of the line is fully
                           specified by (= can be retrieved by examining) the membership of the set of tail Text
                           nodes
                           and the sequence edges between them. In the illustration below, the black arrows represent
                           regular edges that connect Text nodes in order, the irregular colored bounding lines
                           demarcate the sets of tail Text nodes, and a similarly colored arrow points into them
                           from
                           their Markup node heads:
                        </p>
                        <div class="figure" id="overlap_hypergraph">
                           <p class="title">Figure&nbsp;4: Percy Bysshe Shelley, <q>Ozymandias</q></p>
                           <div class="figure-contents">
                              <div class="mediaobject" id="d2e842"><img alt="png image (ozymandias_hypergraph.png)" src="ozymandias_hypergraph.png"></div>
                              <div class="caption">
                                 <p id="d2e846">A hypergraph representing overlap of phrases and metrical lines.</p>
                              </div>
                           </div>
                        </div>
                        <p id="d2e848">Additional use cases involving overlap challenges in XML include pages vs paragraphs
                           in
                           publications of novels, folios vs texts in medieval manuscripts, and speeches vs metrical
                           lines in drama. Overlap in poetic structures has been explored in detail in <a class="xref" id="d2e850" href="javascript:showcite('cite-piez_2014','d2e850')">Piez 2014</a>, which also discusses an unusual structural paradox involving
                           Chapter 24 of Mary Shelley’s <span class="ital">Frankenstein</span>. Overlap
                           involving word and metrical foot boundaries in poetry is discussed below.
                        </p>
                     </div>
                     <div class="section" id="d2e855">
                        <h3 class="title" style="clear: both">Discontinuity</h3>
                        <p id="d2e858"><a class="xref" id="d2e859" href="javascript:showcite('cite-sperberg-huitfeldt_2008','d2e859')">Sperberg-McQueen and Huitfeldt 2008b</a> offer the following paragraph from Lewis
                           Carroll’s <span class="ital">Alice in Wonderland</span> as an example of
                           discontinuity:
                        </p>
                        <div class="blockquote">
                           <blockquote class="blockquote">
                              <p id="d2e865">Alice was beginning to get very tired of sitting by her sister on the bank, and of
                                 having nothing to do: once or twice she had peeped into the book her sister was reading,
                                 but it had no pictures or conversations in it, <q>and what is the use of a
                                    book,</q> thought Alice <q>without pictures or conversation?</q></p>
                           </blockquote>
                        </div>
                        <p id="d2e872">There is no way to mark up this passage in XML without fragmenting the quotation into
                           two elements (and relying on semantics to stitch together the pieces in the application
                           layer), yet our human intuition is that there is a single quotation, and that the
                           model,
                           therefore, should represent it as a single object.<sup class="fn-label"><a href="#d2e874" class="footnoteref" id="d2e874-ref">[22]</a></sup> As <a class="xref" id="d2e883" href="javascript:showcite('cite-sperberg-huitfeldt_2008','d2e883')">Sperberg-McQueen and Huitfeldt 2008b</a> also observe, there is a sense in
                           which <q>book</q> and <q>without</q> are adjacent and a different sense in
                           which <q>book</q> and <q>thought</q> are adjacent. XML syntax and the XML
                           tree cannot represent both of these realities simultaneously, which means that at
                           least one
                           of them must be handed off to the application layer.
                        </p>
                        <p id="d2e898">
                           <a class="xref" id="d2e900" href="javascript:showcite('cite-sperberg-huitfeldt_2008','d2e900')">Sperberg-McQueen and Huitfeldt 2008b</a> situate this type of structure in a GODDAG
                           context, where it intersects with the distinction between <span class="ital">containment</span> and <span class="ital">dominance</span>. Concerning LMNL,
                           they write that 
                        </p>
                        <div class="blockquote">
                           <blockquote class="blockquote">
                              <p id="d2e909">[With respect to] the unity of discontinuous elements: such a unity may be asserted
                                 by
                                 the application layer (that is, by the definition of a LMNL vocabulary), but it is
                                 not
                                 visible on the LMNL level, and thus need not be accounted for at the level of LMNL
                                 itself.
                              </p>
                              <p id="d2e911">The design of LMNL thus seems to require that any account of dominance (as distinct
                                 from containment), and any account of discontinuous elements, be handled in the
                                 application layer. LMNL itself achieves a degree of simplicity and regularity as a
                                 result,
                                 at the expense of complexity in the application.
                              </p>
                           </blockquote>
                        </div>
                        <p id="d2e913"><a class="xref" id="d2e914" href="javascript:showcite('cite-piez_2008','d2e914')">Piez 2008</a> describes discontinuity in LMNL as modeled by the <span class="ital">limen</span>, where the example provided
                           (<a href="http://piez.org/wendell/LMNL/Amsterdam2008/presentation-slides.html#page23" class="link" target="_new">http://piez.org/wendell/LMNL/Amsterdam2008/presentation-slides.html#page23</a>)
                           records it through coindexed annotations. That dependency seems to locate discontinuity
                           in
                           an application layer, since whether coindexed annotations represent discontinuity
                           is not an
                           inherent property of the coindexing. As was noted earlier, TexMECS is capable of modeling
                           discontinuity directly with suspend-tags and resume-tags, but if a TexMECS document
                           is to be
                           parsed into GODDAG, the fragments are then modeled as separate structural components
                        </p>
                        <p id="d2e922">TAG prioritizes the representation of text structures, including discontinuity, in
                           the
                           model, without dependency on application-layer semantics. The example from <span class="ital">Alice in Wonderland</span> described above would have the following form
                           in TAG:
                        </p>
                        <div class="figure" id="discontinuity_hypergraph">
                           <p class="title">Figure&nbsp;5: Lewis Carroll, <q>Alice in Wonderland</q></p>
                           <div class="figure-contents">
                              <div class="mediaobject" id="d2e932"><img alt="png image (discontinuity_hypergraph.png)" src="discontinuity_hypergraph.png"></div>
                              <div class="caption">
                                 <p id="d2e936">Each hyperedge points from a Markup node head (identifying the type of text
                                    structure) to a tail set of Text nodes. Normal edges connect the Text nodes in order.
                                    In
                                    the TAG model, then, a discontinuous textual object is represented the same way as
                                    a
                                    continuous one, as an ordered set of Text nodes that form the tail of a Markup-to-Text
                                    hyperedge.
                                 </p>
                              </div>
                           </div>
                        </div>
                        <p id="d2e938">Other examples of discontinuity involve stage directions in dramatic text, such as
                           the
                           following example from George Bernard Shaw’s <span class="ital">Mrs. Warren’s
                              profession</span>:
                        </p>
                        <div class="blockquote">
                           <blockquote class="blockquote">
                              <p id="d2e944">VIVIE. Sit down: I’m not ready to go back to work yet. [Praed sits]. You both think
                                 I
                                 have an attack of nerves. Not a bit of it. But there are two subjects I want dropped,
                                 if
                                 you don’t mind.
                              </p>
                              <p id="d2e946">One of them [to Frank] is love’s young dream in any shape or form: the other [to
                                 Praed] is the romance and beauty of life, especially Ostend and the gaiety of Brussels.
                                 You are welcome to any illusions you may have left on these subjects: I have none.
                                 If we
                                 three are to remain friends, I must be treated as a woman of business, permanently
                                 single
                                 [to Frank] and permanently unromantic [to Praed].
                              </p>
                           </blockquote>
                        </div>
                        <p id="d2e949">Here the last two stage directions interrupt not just the speech, but the
                           sentence.
                        </p>
                     </div>
                     <div class="section" id="d2e951">
                        <h3 class="title" style="clear: both">Hierarchy, containment and dominance</h3>
                        <p id="d2e954">The challenges that have emerged from our experience of XML as a model of text involve
                           not only the <span class="ital">limitations</span> of OHCO, but also its <span class="ital">tyranny</span>. If text is understood as an Ordered Hierarchy of Content
                           Objects, are there aspects of text that are not ordered (O), are there aspects that
                           are not
                           hierarchical (H, by which we mean not just that they are not mono-hierarchical, but
                           that
                           they are not hierarchical at all), and does the model create content objects artifactually,
                           that is, where they are not perceived as inherent properties of the text being modeled
                           (CO)?
                           XML requires us to model all content as both ordered and hierarchical, and it represents
                           content objects as elements (at least as content objects are described in <a class="xref" id="d2e962" href="javascript:showcite('cite-derose_1990','d2e962')">DeRose et al. 1990</a>). GODDAG and LMNL both grew out of a recognition that not all
                           properties of text can be modeled effectively as a single hierarchy, and their focus
                           is not
                           limited to that issue, but they differ in the extent to which they interrogate features
                           of
                           text that may not be hierarchical at all, that may not be ordered, and that may not
                           involve
                           what a human would consider a content object.
                        </p>
                        <p id="d2e964">As was mentioned earlier, the XML data model does not distinguish containment from
                           dominance, which Tennison explains and illustrates in LMNL terms as follows: 
                           <div class="blockquote">
                              <blockquote class="blockquote">
                                 <p id="d2e967">Containment is a happenstance relationship between ranges while dominance is one
                                    that has a meaningful semantic. A page may happen to <span class="ital">contain</span> a stanza, but a poem <span class="ital">dominates</span>
                                    the stanzas that it contains.<sup class="fn-label"><a href="#d2e975" class="footnoteref" id="d2e975-ref">[23]</a></sup>[<a class="xref" id="d2e982" href="javascript:showcite('cite-tennison_2008','d2e982')">Tennison 2008</a>]
                                 </p>
                              </blockquote>
                           </div>
                        </p>
                        <p id="d2e984">In XML, an ancestor element both <span class="bold">contains</span> (starts
                           before and ends after in the serialization) its descendants and <span class="bold">dominates</span> them (is connected to them by a path that travels only downward in
                           the tree). In the XML view below of the Shakespearean sonnet the we used as a TAG
                           example
                           above, the <code class="code">&lt;poem&gt;</code> element both contains and dominates three
                           <code class="code">&lt;quatrain&gt;</code> elements and one <code class="code">&lt;couplet&gt;</code> element, and
                           the <code class="code">&lt;quatrain&gt;</code> and <code class="code">&lt;couplet&gt;</code> elements both contain and
                           dominate <code class="code">&lt;line&gt;</code> elements:
                        </p><pre class="programlisting" id="d2e1011">&lt;poem&gt;
    &lt;quatrain&gt;
        &lt;line&gt;No longer mourn for me when I am dead&lt;/line&gt;
        &lt;line&gt;Than you shall hear the surly sullen bell&lt;/line&gt;
        &lt;line&gt;Give warning to the world that I am fled&lt;/line&gt;
        &lt;line&gt;From this vile world with vilest worms to dwell:&lt;/line&gt;
    &lt;/quatrain&gt;
    &lt;quatrain&gt;
        &lt;line&gt;Nay, if you read this line, remember not&lt;/line&gt;
        &lt;line&gt;The hand that writ it, for I love you so,&lt;/line&gt;
        &lt;line&gt;That I in your sweet thoughts would be forgot,&lt;/line&gt;
        &lt;line&gt;If thinking on me then should make you woe.&lt;/line&gt;
    &lt;/quatrain&gt;
    &lt;quatrain&gt;
        &lt;line&gt;O! if,—I say you look upon this verse,&lt;/line&gt;
        &lt;line&gt;When I perhaps compounded am with clay,&lt;/line&gt;
        &lt;line&gt;Do not so much as my poor name rehearse;&lt;/line&gt;
        &lt;line&gt;But let your love even with my life decay;&lt;/line&gt;
    &lt;/quatrain&gt;
    &lt;couplet&gt;
        &lt;line&gt;Lest the wise world should look into your moan,&lt;/line&gt;
        &lt;line&gt;And mock you with me after I am gone.&lt;/line&gt;
    &lt;/couplet&gt;
&lt;/poem&gt;</pre><div class="figure" id="shakespeare_xml">
                           <p class="title">Figure&nbsp;6: William Shakespeare, Sonnet 71</p>
                           <div class="figure-contents">
                              <div class="mediaobject" id="d2e1016"><img alt="png image (shakespeare-sonnet_xml.png)" src="shakespeare-sonnet_xml.png"></div>
                              <div class="caption">
                                 <p id="d2e1020">The XML tree encodes containment and hierarchy in the same way.</p>
                              </div>
                           </div>
                        </div>
                        <p id="d2e1022">In the earlier TAG example of this sonnet, a Markup-to-Text hyperedge defines the
                           tail
                           as a set of Text nodes and labels (datatypes) it. In the TAG version of this example,
                           all
                           quatrain and line Markup-to-Text hyperedges point to sets of Text nodes, and containment
                           is
                           modeled by subset relations among the Text-node tails of those hyperedges. Where the
                           Text
                           nodes that constitute the tail of a Markup-to-Text hyperedge with the <code class="code">name</code>
                           property (on the Markup node) of <q>line</q> form a proper subset of the Text nodes
                           that constitute the tail of a Markup-to-Text hyperedge with the <code class="code">name</code> property
                           (on the Markup node) of <q>quatrain</q>, the quatrain contains the line.<sup class="fn-label"><a href="#d2e1036" class="footnoteref" id="d2e1036-ref">[24]</a></sup> In this emphasis on containment, rather than dominance, TAG is similar to flat
                           LMNL, except that LMNL ranges must be continuous (LMNL handles discontinuity separately),
                           while contiguity is not relevant in defining the set of Text nodes that may serve
                           as the
                           tail of a hyperedge in TAG (see the discussion of Discontinuity, above). In the TAG
                           version
                           we have chosen not to make the three quatrains and the couplet what in XML terms would
                           be
                           children of a root <code class="code">&lt;poem&gt;</code> element, but we could, should we wish, create a
                           Markup-to-Text hyperedge with a <code class="code">name</code> property value (on the Markup node) of
                           <q>poem</q>. This could point, through a hyperedge, to the set of all Text nodes
                           in the poem, which would let us model containment. It could also serve as the head
                           of a
                           Markup-to-Markup hyperedge from it to the Markup nodes with <q>quatrain</q> and
                           <q>couplet</q>
                           <code class="code">name</code> property values, which would let us model dominance.<sup class="fn-label"><a href="#d2e1060" class="footnoteref" id="d2e1060-ref">[25]</a></sup> In other words, Markup-to-Text nodes model containment, rather than dominance
                           (indirectly, through subset properties of the Text nodes to which they point), and
                           where it
                           is important to distinguish dominance from containment, the TAG model supports this
                           through
                           Markup-to-Markup hyperedges.
                        </p>
                        <p id="d2e1067">One final consequence of the XML conflation of containment and dominance is that when
                           exactly the same text must be tagged in two ways simultaneously, XML requires one
                           of the
                           elements to contain the other. But, as was noted above, if a Markup node with the
                           <code class="code">name</code> property value of <q>paragraph</q> and a Markup node with the
                           <code class="code">name</code> property value of <q>quotation</q> both point to exactly the
                           same set of Text nodes, in TAG it does not make sense to ask whether the paragraph
                           contains
                           the quotation or the quotation contains the paragraph because containment in TAG is
                           defined
                           as a proper subset relationship among sets of Text nodes. Whether a paragraph consists
                           of a
                           quotation or a quotation consists of a paragraph is a reasonable question, but in
                           TAG it is
                           a question of dominance, expressed through Markup-to-Markup hyperedges, and not of
                           containment, expressed (indirectly) through Markup-to-Text hyperedges.
                        </p>
                     </div>
                     <div class="section" id="d2e1081">
                        <h3 class="title" style="clear: both">Artifactual hierarchy</h3>
                        <p id="d2e1084">As we described above, in XML, markup is (among other things) a form of datatyping,
                           and
                           the XML spec uses the word <q>type</q> explicitly in this meaning:
                           <div class="blockquote">
                              <blockquote class="blockquote">
                                 <p id="d2e1090">Each element has a type, identified by name, sometimes called its <q>generic
                                       identifier</q> (GI) [<a class="xref" id="d2e1095" href="javascript:showcite('cite-W3C_xml','d2e1095')">W3C XML</a> §3]
                                 </p>
                              </blockquote>
                           </div>This means that when XML assigns a type to part of a document by making it an
                           element, it simultaneously creates an element node, which pushes the textual content
                           down a
                           level in the document hierarchy. Consider the following XML structure, represented
                           here in
                           markup and as hierarchy:
                        </p><pre class="programlisting" id="d2e1098">&lt;title&gt;&lt;name&gt;Romeo&lt;/name&gt; and &lt;name&gt;Juliet&lt;/name&gt;&lt;/title&gt;</pre><div class="figure" id="romeo_xml">
                           <p class="title">Figure&nbsp;7: Romeo and Juliet (XML)</p>
                           <div class="figure-contents">
                              <div class="mediaobject" id="d2e1103"><img alt="png image (romeo_xml.png)" src="romeo_xml.png"></div>
                              <div class="caption">
                                 <p id="d2e1107">In XML, the three words of the title are spread over two levels of the hierarchy.
                                    Cyan ellipses are element nodes and pink rectangles are Text nodes.
                                 </p>
                              </div>
                           </div>
                        </div>
                        <p id="d2e1109">If we wish to specify in XML that the first and third words of the title are of type
                           <q>name</q>, we can tag them as elements of that type, with the result that the
                           Text nodes they contain wind up on a different level of the hierarchy than the conjunction
                           between them.<sup class="fn-label"><a href="#d2e1114" class="footnoteref" id="d2e1114-ref">[26]</a></sup> This contradicts our intuition that the title contains three words, two of which
                           have the type <q>name</q>, replacing it with a model in which the title contains two
                           objects of type <q>name</q> with a word between them, and it is the
                           <q>name</q> objects that contain the first and third words.
                        </p>
                        <p id="d2e1133">Because TAG separates the use of markup in hierarchy and its use for datatyping, it
                           is
                           possible to assign a type to text without distorting the hierarchy. Here is the TAG
                           representation of the same content:
                        </p>
                        <div class="figure" id="romeo_hypergraph">
                           <p class="title">Figure&nbsp;8: Romeo and Juliet (TAG)</p>
                           <div class="figure-contents">
                              <div class="mediaobject" id="d2e1138"><img alt="png image (romeo_hypergraph.png)" src="romeo_hypergraph.png"></div>
                              <div class="caption">
                                 <p id="d2e1142">In this TAG example, the markup on names specifies their type and content without
                                    imposing a hierarchy. The title contains three text nodes, represented by pink ellipses.
                                    Markup nodes are green (for names) and cyan (for titles), and the document node is
                                    beige.
                                 </p>
                              </div>
                           </div>
                        </div>
                        <p id="d2e1144">As illustrated in the example above, markup of Text nodes in the TAG model, unlike
                           in
                           XML, does not create a hierarchical layer as a side effect of datatyping. As we have
                           seen
                           earlier, it is possible to represent hierarchy in TAG, but it is not an inescapable
                           consequence of all markup, as it is in XML.
                        </p>
                     </div>
                     <div class="section" id="d2e1146">
                        <h3 class="title" style="clear: both">White space as crypto-overlap</h3>
                        <p id="d2e1149">In natural language processing, tokenization is the process of breaking up a string
                           of
                           plain text characters into substrings (typically words and punctuation, which may
                           be
                           adjacent or separated by white space), often while removing token separators in the
                           process.
                           Tokenization of plain text in XML is performed using regular expressions and the
                           <code class="code">tokenize()</code> function, but <code class="code">tokenize()</code> atomizes its first argument,
                           which means that it cannot be used on tagged text without losing the markup in the
                           process.
                           Even tokenization that would not create overlap-based well-formedness violations,
                           such as
                           splitting and tagging the words of a line of poetry in which the stressed vowels are
                           tagged
                           as <code class="code">&lt;stress&gt;</code> (see the illustration below), requires intermediary temporary
                           manipulations, such as converting the markup to text, tokenizing with
                           <code class="code">tokenize()</code>, and then converting the temporary text back into markup, or
                           adding additional markup, tokenizing with <code class="code">&lt;xsl:for-each-group&gt;</code>, and then
                           removing the temporary markup.
                        </p>
                        <p id="d2e1166">The reason tokenizing tagged text is awkward in XML even where overlap is not a risk
                           has
                           one explanation in terms of the syntax and another in terms of the data model. In
                           terms of
                           the syntax, the markup and text are intertwined in a way that makes it impossible
                           to ignore
                           markup during tokenization while retaining access to it after the process is complete.
                           In
                           terms of the data model, as noted above, tagging the stressed vowels in a line of
                           verse
                           pushes their textual content down a level in the hierarchy, so the line no longer
                           forms a
                           string. Furthermore, although it is not usually described this way, the use of white
                           space
                           to separate words may be understood as pseudo-markup, which means that the words in
                           tagged
                           text potentially represent overlapping hierarchies in plain-text disguise.<sup class="fn-label"><a href="#d2e1168" class="footnoteref" id="d2e1168-ref">[27]</a></sup></p>
                        <p id="d2e1176">In TAG, however, Markup nodes on one layer point to Text nodes on another layer, one
                           that contains nothing but Text nodes, which makes it possible to tokenize the text
                           without
                           interference from the markup. The tokenization splits larger Text nodes into smaller
                           ones,
                           but they remain in the tail of their old Markup-to-Text hyperedges, while new Markup-to-Text
                           hyperedges are added to tag the new individual words. In the simplified illustrations
                           below,
                           we have created a <q>poem</q> that consists entirely of a single three-word line
                           (<q>No longer mourn</q>). In the firt of these illustrations, the stressed vowels
                           are tagged but the words are not:
                        </p>
                        <div class="figure" id="untokenized">
                           <p class="title">Figure&nbsp;9: A simplified poem without word tokenization</p>
                           <div class="figure-contents">
                              <div class="mediaobject" id="d2e1187"><img alt="png image (untokenized-stressed.png)" src="untokenized-stressed.png"></div>
                              <div class="caption">
                                 <p id="d2e1191">Without word tokenization, there are five Text nodes, three of which are not marked
                                    up individually and two of which form the tails of Markup-to-Text hyperedges with
                                    a
                                    <code class="code">name</code> property of <q>stress</q> on the Markup node, indicating
                                    that these are stressed vowels.
                                 </p>
                              </div>
                           </div>
                        </div>
                        <p id="d2e1199">Because stress is marked on a single vowel sound, XML would be capable of tagging
                           the
                           individual words while retaining the stress markup, since no overlap would result.
                           For that
                           reason, the following XML representation, which tags both words and stressed vowels,
                           is well
                           formed:
                        </p><pre class="programlisting" id="d2e1201">&lt;line&gt;
  &lt;word&gt;No&lt;/word&gt;
  &lt;word&gt;l&lt;stress&gt;o&lt;/stress&gt;nger&lt;/word&gt;
  &lt;word&gt;m&lt;stress&gt;ou&lt;/stress&gt;rn&lt;/word&gt;
&lt;/line&gt;</pre><p id="d2e1203">Yet if we try to use <code class="code">tokenize()</code> in a transformation to add the
                           <code class="code">&lt;word&gt;</code> markup to a line that already contains the
                           <code class="code">&lt;stress&gt;</code> markup, the <code class="code">&lt;stress&gt;</code> markup will be lost
                           during atomization.
                        </p>
                        <p id="d2e1217">This situation is not a challenge for TAG. In the example below, we have added
                           Markup-to-Text nodes to tag the words, which can be determined by tokenizing the text
                           on
                           white space. Tokenization is possible because the Text nodes are not interrupted by
                           the
                           markup, which points to them without being inserted between them (syntactically) and
                           without
                           pushing them to different levels of the hierarchy (in the tree structure):
                        </p>
                        <div class="figure" id="tokenized">
                           <p class="title">Figure&nbsp;10: A simplified poem with word tokenization</p>
                           <div class="figure-contents">
                              <div class="mediaobject" id="d2e1222"><img alt="png image (tokenized-stressed.png)" src="tokenized-stressed.png"></div>
                              <div class="caption">
                                 <p id="d2e1226">With word tokenization, there are now seven Text nodes. Two of them still form the
                                    tails of Markup-to-Text hyperedges with a <code class="code">name</code> property of
                                    <q>stress</q> on the Markup node, indicating that these are stressed vowels.
                                    There are now also three Markup-to-Text hyperedges with a <code class="code">name</code> property of
                                    <q>word</q> on the Markup node (in orange); the first points to a single Text
                                    node, and the others each point to three Text nodes.
                                 </p>
                              </div>
                           </div>
                        </div>
                        <p id="d2e1240">The additional markup requires additional division of Text nodes, but all modifications
                           are local, and the only part of the graph that has to be updated is the part to which
                           the
                           markup is being added.<sup class="fn-label"><a href="#d2e1242" class="footnoteref" id="d2e1242-ref">[28]</a></sup></p>
                        <p id="d2e1258">The preceding example does not create overlap because the Text nodes that are marked
                           up
                           for stress are subsets of those that are marked up as words. But if we also want to
                           tag
                           poetic feet, which are needed to identify caesura (a regular coincidence of word and
                           foot
                           boundaries in the lines of a poem), overlap would become an issue in XML. One work-around
                           in
                           an XML environment has turned out to involve, surprisingly, tagging neither the feet
                           nor the
                           words (see [<a class="xref" id="d2e1260" href="javascript:showcite('cite-birnbaum_2015','d2e1260')">Birnbaum and Thorsen 2015</a>]), deriving both from other properties of the
                           line during processing, but the fact that we can use white-space pseudo-markup to
                           escape the
                           consequences of syntactic overlap doesn’t mean that the the overlap isn’t there. A
                           data
                           model that can represent both feet and words explicitly, and that could identify caesura
                           as
                           a relationship between those two types of structural components, would represent explicitly
                           the human understanding of caesura, and the explicit representation of structure is
                           much of
                           what markup is all about. In the illustration below, we have added foot markup to
                           the
                           previous example:
                        </p>
                        <div class="figure" id="feet">
                           <p class="title">Figure&nbsp;11: A simplified poem with word and foot markup</p>
                           <div class="figure-contents">
                              <div class="mediaobject" id="d2e1265"><img alt="png image (feet.png)" src="feet.png"></div>
                              <div class="caption">
                                 <p id="d2e1269">When we tag the feet by adding Markup-to-Text hyperedges with a <code class="code">name</code>
                                    property value of <q>foot</q> on the Markup node (in violet), we create overlap
                                    between feet and words, since the word <q>longer</q> is split between the ictic
                                    second syllable of the first iamb and the non-ictic first syllable of the second.
                                 </p>
                              </div>
                           </div>
                        </div>
                        <p id="d2e1280">A corresponding XML-like structure that tags words and feet would not be well formed
                           because the <code class="code">&lt;foot&gt;</code> elements would overlap with the
                           <code class="code">&lt;word&gt;</code> elements:
                        </p><pre class="programlisting" id="d2e1288">&lt;line&gt;&lt;foot&gt;&lt;word&gt;no&lt;/word&gt;&lt;word&gt;lon&lt;/foot&gt;&lt;foot&gt;ger&lt;/word&gt;&lt;word&gt;mourn&lt;/word&gt;&lt;/foot&gt;&lt;/line&gt;</pre><p id="d2e1290">In XML, <q>[t]he identification of caesura requires the identification of both feet
                              and words, which are not coextensive and which frequently overlap. The challenge,
                              then, is
                              to locate where foot and line boundaries coincide without employing markup in a way
                              that
                              would violate well-formedness overlap constraints.</q> [<a class="xref" id="d2e1295" href="javascript:showcite('cite-birnbaum_2015','d2e1295')">Birnbaum and Thorsen 2015</a>] In TAG, where overlap is not an issue, caesura is possible when two adjacent Text
                           nodes
                           are in the tails of different Markup-to-Text <q>word</q> hyperedges and different
                           Markup-to-Text <q>foot</q> hyperedges. Caesura is typically 1) at or near the middle
                           of the line, and 2) implemented consistently, so not every coincidence of word and
                           foot
                           boundaries proclaims a caesura; that coincidence is necessary, but not sufficient.
                        </p>
                     </div>
                     <div class="section" id="d2e1303">
                        <h3 class="title" style="clear: both">Scope of reference</h3>
                        <p id="d2e1306">Footnotes can be understood as annotations on text, but in XML they are typically
                           represented by elements at the location where the note reference should occur in a
                           reading
                           text, as with the <code class="code">&lt;footnote&gt;</code> element in DocBook or the
                           <code class="code">&lt;note&gt;</code> element in TEI. Anchoring a footnote at a point in the text
                           stream, instead of as an annotation on a string of (possibly tagged) text with a beginning
                           and an end, is problematic because it does not mark explicitly the scope of the note,
                           such
                           as whether a footnote reference at the end of a paragraph points to the preceding
                           sentence
                           or the preceding two sentences or more, or to the entire paragraph. The TEI
                           <code class="code">&lt;note&gt;</code> element avoids this limitation because it can point to an
                           arbitrary target with XPointer, but this stand-off strategy is an indirect way of
                           specifying
                           what might have been represented more immediately as an attribute if XML attributes
                           were
                           able 1) to model rich content, and 2) to annotate something without being forced to
                           give it
                           a generic identifier that specifies its type.<sup class="fn-label"><a href="#d2e1317" class="footnoteref" id="d2e1317-ref">[29]</a></sup></p>
                        <p id="d2e1323">TAG avoids the XML prohibition against markup in attribute values because in TAG the
                           Text nodes of an annotation can be a target of markup, just like those of the main
                           text. TAG
                           avoids the scope of reference problem because the annotation can point to a Markup
                           node with
                           a name if an appropriate one exists (such as paragraph in a document that marks up
                           paragraphs). In the example below, because TAG permits anonymous Markup nodes (that
                           is,
                           because the <code class="code">name</code> property of Markup nodes is optional), we annotate arbitrary
                           text without giving it the equivalent of an XML generic identifier, although in a
                           revision
                           currently under development, we are exploring pointing directly from the annotation
                           to the
                           Text nodes, which would obviate the need for the anonymous Markup node. With either
                           of these
                           approaches, footnote-like relationships can be modeled in TAG as what they are: rich-text
                           annotations on text regardless of whether the target of the annotation corresponds
                           to a
                           Content Object with an identifiable type. TAG is similar to LMNL in this respect,
                           except
                           that in TAG text being footnoted that is discontinuous is no different from continuous
                           text;
                           it is a set of Text nodes that constitute the tail of a Markup-to-Text hyperedge.
                        </p>
                        <p id="d2e1328">In the simplified example below, we add a footnote to the second and third lines of
                           a
                           poem by using an Annotation node (orange) to point to a Markup node (violet) that
                           is the
                           head of an anonymous Markup-to-Text hyperedge, and the text of the annotation also
                           has
                           markup (a sky blue Markup node with a <code class="code">name</code> property of <q>emphasis</q>
                           points to a single Text node). Neither of these features is available with attribute
                           markup
                           in XML because elements must have generic identifiers (= cannot be anonymous) and
                           attribute
                           values cannot contain markup. And if the footnote target happens to be something that
                           would
                           create overlap in XML (e.g., if it runs from the middle of one line to the middle
                           of another
                           and the lines have been tagged explicitly), XML is further encumbered by the prohibition
                           against overlap.
                        </p>
                        <div class="figure" id="note">
                           <p class="title">Figure&nbsp;12: A poem with an annotation (footnote) on lines 2 and 3</p>
                           <div class="figure-contents">
                              <div class="mediaobject" id="d2e1339"><img alt="png image (note.png)" src="note.png"></div>
                              <div class="caption">
                                 <p id="d2e1343">The violet ellipse is an anonymous Markup node that serves as the head of a
                                    Markup-to-Text hyperedge and points to the Text nodes for lines 2 and 3 of the poem.
                                    The
                                    orange ellipse is an annotation on the anonymous Markup node. Annotations have their
                                    own
                                    textual content, which is represented by a chain of Text nodes that begins with the
                                    Annotation node, much as the main text is represented by a chain of Text nodes that
                                    begins with the Document node. The text of an annotation may be the target of markup,
                                    and in this example a Markup-to-Text hyperedge with a <code class="code">name</code> property of
                                    <q>emphasis</q> on the Markup node points to a single Text node.
                                 </p>
                              </div>
                           </div>
                        </div>
                        <p id="d2e1351">Insofar as a footnote can be considered metadata about text, the structure illustrated
                           above represents it as an annotation, but it does not require us to assign a type
                           to the
                           target of the annotation as a side effect of referring to it, and it allows us to
                           add markup
                           to the footnote text itself. 
                        </p>
                     </div>
                     <div class="section" id="d2e1353">
                        <h3 class="title" style="clear: both">Data model versus syntax</h3>
                        <p id="d2e1356">Syntax is not necessarily the same as a data model. A data model could, at least in
                           principle, be serialized in multiple ways, and syntax developed to represent one data
                           model
                           could be coopted to represent a different one. TAG does not at present have its own
                           serialization syntax, and the Alexandria Markup implementation described below can
                           read and
                           write LMNL sawtooth syntax and TexMECS (parsing the results as a representation of
                           the TAG
                           data model, rather than of LMNL or GODDAG), and it is intended to be able to do the
                           same
                           with XML syntax.
                        </p>
                        <p id="d2e1358">One challenge of comparing TAG to XML, LMNL, GODDAG, and TexMECS is that TAG, like
                           LMNL
                           and GODDAG, is a data model, while XML and TexMECS are defined by their syntax. Perhaps
                           a
                           bit surprisingly in the context of Balisage, which describes itself as <q>the <span class="ital">markup</span> conference</q>, our focus here is not on markup (that
                           is, on syntax and serialization), but on the data models that may be expressed through
                           markup, which means that for comparative purposes we may sometimes need to infer a
                           data
                           model from a syntactic specification. 
                        </p>
                        <p id="d2e1366">The situation is especially complicated in the case of XML because although it does
                           not
                           have a data model, it also has three almost-data-models: XML DOM [<a class="xref" id="d2e1368" href="javascript:showcite('cite-W3C_DOM','d2e1368')">W3C DOM</a>], which is an object model and API; the XML InfoSet [<a class="xref" id="d2e1370" href="javascript:showcite('cite-W3C_xmlinfoset','d2e1370')">W3C XML InfoSet</a>],
                           which is an information model; and XDM [<a class="xref" id="d2e1372" href="javascript:showcite('cite-W3C_xdm','d2e1372')">W3C XDM</a>], which is a data model
                           for processing XML. Our inferred data model for XML for comparative purposes here
                           includes
                           the seven node types specified in XDM (not the twelve of XML DOM or the eleven types
                           of
                           information items of the XML InfoSet), along with the structural properties of the
                           ordered
                           tree that are relevant for understanding (but not necessarily adequate for processing)
                           well-formed XML (e.g., attribute nodes on an element are unordered). Our aim is not
                           to
                           create a data model for XML, which lies far outside the scope of this paper, but to
                           identify
                           features of the way XML models text that can be used comparatively to help elucidate
                           features of TAG. 
                        </p>
                        <p id="d2e1374">The fact that some of our objects of comparison are serializations and others are
                           data
                           models matters because, as the etymology of the term implies, serialization is an
                           ordered
                           linear expression, which is not a requirement of data models. If, for example, a paragraph
                           is exactly coextensive with a quotation, in XML syntax, LMNL sawtooth syntax, and
                           TexMECS
                           syntax, the start tag of either the paragraph or the quotation must come first in
                           linear
                           order. But in LMNL the relative order of the ranges defined by the tags is not an
                           obligatory
                           part of the model, which permits two ranges to begin at the same location in the text,
                           and
                           the same is true of TAG. In XML, however, one element must be the parent of the other,
                           and
                           the order of the start tags reflects both containment and hierarchy. TexMECS negotiates
                           this
                           issue by using different start- and end-tag delimiters to distinguish when the relative
                           order of the tags is informational and when it is not.<sup class="fn-label"><a href="#d2e1376" class="footnoteref" id="d2e1376-ref">[30]</a></sup></p>
                     </div>
                     <div class="section" id="d2e1381">
                        <h3 class="title" style="clear: both">Semantics versus application level</h3>
                        <p id="d2e1384">Another challenge for text modeling involves distinguishing properties that inhere
                           in
                           the structure of the text being modeled from those that depend on semantics that must
                           be
                           interpreted at a higher (application) level. A failure to make this distinction may
                           have two
                           types of consequences (which are really aspects of the same thing, the delegation
                           of
                           information that should be part of the model to the application layer): either the
                           application must know that some properties of the model are not informational and
                           are to be
                           ignored, or the application must know that there is information that is not represented
                           entirely by the model and must therefore be added during processing. If, however,
                           the model
                           explicitly represents the structural properties of the text and nothing else, the
                           application level is freed from having to supplement the model, and can concentrate
                           on
                           features that are truly application-specific.
                        </p>
                        <p id="d2e1386">Moving structural information out of the application layer and into the model is a
                           priority in the design of TAG, and here are two illustrations of the issue:
                           <div class="itemizedlist" id="d2e1388">
                              <ul>
                                 <li id="d2e1389">
                                    <p id="d2e1390">The pairing of start and end tags in XML markup is inherent in the markup itself,
                                       and is available during parsing with no reference to semantics. In contrast, the
                                       pairing of XML milestones that are used to simulate container tags as a work-around
                                       for overlap (see the discussion of Trojan markup in <a class="xref" id="d2e1392" href="javascript:showcite('cite-derose_2004','d2e1392')">DeRose 2004</a>)
                                       depends on semantics. XML applications do not need to know that regular start and
                                       end
                                       tags delimit an element because that information is an inalienable feature of all
                                       XML
                                       documents that is fully specified by the syntax, but they do need to know when empty
                                       tags are being used to simulate the beginning and end of a content object and when
                                       they are not, or which pseudo-start-tags are to be associated with which
                                       pseudo-end-tags. A robust and efficient strategy would represent all structural
                                       features as parts of the model itself, instead of requiring that some of them be
                                       handled through semantic information that is available only at the application
                                       level.
                                    </p>
                                 </li>
                                 <li id="d2e1394">
                                    <p id="d2e1395">Because XML models an ordered hierarchy, element always have order, which requires
                                       the application layer to distinguish situations where order is semantically meaningful
                                       from situations where it isn’t. For example, the TEI <code class="code">&lt;choice&gt;</code>
                                       element has the semantics of associating content objects that do not have a natural
                                       order with respect to one another, such as an abbreviation and its expansion or an
                                       error and its correction. How those should be rendered is the proper business of the
                                       application layer, but the XML model requires that one option proceed or follow the
                                       other even when the order does not represent an inherent, informational property of
                                       the text being modeled. This has the undesirable consequence that, incorrectly (from
                                       the perspective of what the marked-up text means), an XML processor will regard two
                                       TEI documents as different if they differ only in the order of the children of their
                                       <code class="code">&lt;choice&gt;</code> elements unless the processor is given access to TEI
                                       markup semantics. Imposing an arbitrary order as a schema enhancement (for example,
                                       requiring that an abbreviation always precede its expansion inside a TEI
                                       <code class="code">&lt;choice&gt;</code> element) will avoid the problem of distinguishing when
                                       two documents should be considered the same or different, but at the cost of making
                                       order informational in some situations and arbitrary in others, that is, of imposing
                                       order on something that is not inherently ordered. A more robust and efficient model
                                       would not specify order when it must then be ignored, so that a processor will know
                                       when order is informational and when it is not from the model, without recourse to
                                       semantics.
                                    </p>
                                 </li>
                              </ul>
                           </div>
                        </p>
                        <p id="d2e1406">Concerning the first of these issues, matching up pseudo-start-tags with pseudo-end-tags
                           during processing does not arise in TAG not only because TAG does not at present have
                           its
                           own syntactic expression (although we can represent some features of TAG by borrowing
                           LMNL
                           sawtooth syntax or TexMECS), but also because the fact that TAG permits overlap makes
                           such
                           workarounds unnecessary. The second issue is more challenging, and because TAG currently
                           models text as a single chain of Text nodes, it does not yet distinguish situations
                           where
                           order is not informational. But because that is a feature of what text is (that is,
                           because
                           the first O of OHCO is as much an issue as the H that follows it), it is a design
                           requirement that we intend to address as development continues (see <a class="xref" href="#to_do" id="d2e1408">Appendix B</a>).
                        </p>
                     </div>
                  </div>
                  <div class="section" id="d2e1410">
                     <h2 class="title" style="clear: both">TAG in the Alexandria Markup text repository</h2>
                     <p id="d2e1413">The Alexandria Markup text repository system is an open-source read/write implementation
                        of the TAG model currently under development by the Huygens Institute for the History
                        of the
                        Netherlands at <a href="https://github.com/HuygensING/alexandria-markup" class="link" target="_new">https://github.com/HuygensING/alexandria-markup</a>. As was
                        noted above, at present TAG does not have its own syntax, although strategies for
                        import and
                        export are under active development. Alexandria Markup is able to parse and import
                        flat LMNL
                        sawtooth syntax, but it treats the syntax as an expression of TAG properties, rather
                        than LMNL
                        ones. This means, for example, that although annotations on the same object in LMNL
                        are
                        ordered, because those in TAG are not, this order is not treated as informational
                        during
                        import or export, or internally. It also means that TAG structures that are not naturally
                        represented in flat LMNL syntax, such as the Document node or discontinuous sets of
                        Text
                        nodes, require special handling. Alexandria Markup is not intended to be an implementation
                        of
                        LMNL, and the use of LMNL sawtooth syntax in TAG should not be misunderstood as representing
                        the LMNL data model. Alexandria Markup is also able to import and parse TexMECS syntax,
                        which
                        it also interprets as a representation of the TAG data model, rather than of GODDAG.
                        The
                        implementation in the current system loads the TAG model into memory, but persistence
                        of the
                        nodes and hyperedges in a key-value store on disk is under development. 
                     </p>
                     <div class="section" id="d2e1417">
                        <h3 class="title" style="clear: both">Importing documents into Alexandria</h3>
                        <div class="section" id="d2e1420">
                           <h4 class="title" style="clear: both">Importing plain text into Alexandria Markup</h4>
                           <p id="d2e1423">As an example of importing into Alexandria Markup, consider a document that consists
                              of just the plain text <q>Hello, World</q>. When we import this plain-text
                              document into Alexandria Markup, a very simple graph is created, consisting of two
                              nodes
                              and one regular edge. One node is the TAG Document node; the other is a TAG Text node
                              that
                              contains all of the text. A regular edge is created from the Document node to the
                              Text
                              node, which associates the text with the document.
                           </p>
                        </div>
                        <div class="section" id="d2e1428">
                           <h4 class="title" style="clear: both">Importing LMNL into Alexandria Markup</h4>
                           <p id="d2e1431">The lexer uses a grammar to tokenize the LMNL text, setting the type of the token
                              according to the current context (e.g., annotations inside annotations, inside range
                              start
                              or end tags, etc.). The stream of tokens is then parsed in the importer, which is
                              also
                              sensitive to the context.
                           </p>
                           <p id="d2e1433">At the start of the import, we create a new Document node, which serves as the head
                              of
                              the chain of Text nodes for the main text layer. We deal with parser events in the
                              following ways:
                           </p>
                           <div class="itemizedlist" id="d2e1435">
                              <ul>
                                 <li id="d2e1436">
                                    <p id="d2e1437">For each range start tag we create a new Markup node, which we add to a list of
                                       open Markup contexts.
                                    </p>
                                 </li>
                                 <li id="d2e1439">
                                    <p id="d2e1440">For each string of text we create a new Text node, which we add to the tail of the
                                       Markup-to-Text hyperedges for all open Markup contexts. We also add the Text node
                                       to
                                       the chain of Text nodes.
                                    </p>
                                 </li>
                                 <li id="d2e1442">
                                    <p id="d2e1443">After each range end tag we remove the corresponding Markup node from the list of
                                       open Markup contexts.
                                    </p>
                                 </li>
                                 <li id="d2e1445">
                                    <p id="d2e1446">For each annotation start tag we create a new Annotation node, which we add to an
                                       annotation list for the current Markup node. Unless the annotation is empty, we now
                                       set this Annotation as the current text layer, which means that until we come to the
                                       annotation close tag for this annotation, all new Text nodes and Markup nodes will
                                       be
                                       added to this annotation. When we encounter the corresponding annotation end tag,
                                       we
                                       close this Annotation and return to the previous text layer.
                                    </p>
                                 </li>
                              </ul>
                           </div>
                        </div>
                        <div class="section" id="d2e1448">
                           <h4 class="title" style="clear: both">Importing TexMECS into Alexandria Markup</h4>
                           <p id="d2e1451">We use a lexer and parser to interpret TexMECS syntax. At the start of the import,
                              we
                              create a new Document node. We deal with parser events in the following ways:
                           </p>
                           <div class="itemizedlist" id="d2e1453">
                              <ul>
                                 <li id="d2e1454">
                                    <p id="d2e1455">After each start tag, we create a new Markup node and add it to the list of open
                                       Markup nodes, and to the Document. 
                                    </p>
                                 </li>
                                 <li id="d2e1457">
                                    <p id="d2e1458">For each string of text we create a new Text node, which we add to the tail of the
                                       Markup-to-Text hyperedges for all open Markup contexts. We also add the Text node
                                       to
                                       the chain of Text nodes.
                                    </p>
                                 </li>
                                 <li id="d2e1460">
                                    <p id="d2e1461">After each end tag we remove the corresponding Markup node from the list of open
                                       Markup contextss. 
                                    </p>
                                 </li>
                                 <li id="d2e1463">
                                    <p id="d2e1464">After each suspend tag we remove the corresponding Markup node from the list of
                                       open Markup contexts, and add it to the list of suspended Markup contexts. 
                                    </p>
                                 </li>
                                 <li id="d2e1466">
                                    <p id="d2e1467">After each resume tag we remove the corresponding Markup node from the list of
                                       suspended Markup contexts, and add it to the list of open Markup contexts.
                                    </p>
                                 </li>
                              </ul>
                           </div>
                        </div>
                     </div>
                     <div class="section" id="d2e1469">
                        <h3 class="title" style="clear: both">Exporting from Alexandria Markup in sawtooth syntax</h3>
                        <p id="d2e1472">As an example of exporting a simple document from Alexandria Markup, a serialization
                           of
                           the TAG data model into LMNL sawtooth syntax involves traversal over an instance.
                           The
                           traversal begins with the Document node, which must have a single directed regular
                           edge that
                           points to the first Text node. We then follow the Markup-to-Text hyperedges that are
                           connected to this Text node.<sup class="fn-label"><a href="#d2e1474" class="footnoteref" id="d2e1474-ref">[31]</a></sup> There can be zero or more Markup-to-Text hyperedges on a Text node, each of
                           which is headed by one Markup node. The traversal collects all the Markup nodes that
                           point
                           to the Text node, and for each of them it writes a start tag, where the order of multiple
                           start tags is not part of the TAG model, and is therefore at the discretion of the
                           implementation. We then proceed to the next Text node by following the outgoing regular
                           Text-to-Text edge, which connects all Text nodes (except those on annotations) in
                           a single
                           chain. As before, we collect all Markup nodes connected to the new Text node, and
                           we then
                           calculate the differences between the sets of Markup nodes that point to the two Text
                           nodes
                           under consideration. For the intersection we do nothing; for the set of Markup nodes
                           that
                           are only on the previous Text node we write end tags; and for the set of Markup nodes
                           that
                           are only on the new Text node we write start tags. At the conclusion of the traversal
                           (which
                           can be recognized because only the final Text node does not have an outgoing regular
                           edge),
                           we write end tags for all associated Markup-to-Text hyperedges.
                        </p>
                     </div>
                     <div class="section" id="d2e1478">
                        <h3 class="title" style="clear: both">TAGQL: A query language for TAG in Alexandria Markup</h3>
                        <p id="d2e1481">The Alexandria Markup query language for TAG, which is currently in an early stage
                           of
                           design and implementation, uses an SQL-like syntax. For example:
                        </p>
                        <div class="itemizedlist" id="d2e1483">
                           <ul>
                              <li id="d2e1484"><pre class="programlisting" id="d2e1485">select text from markup where name='a'</pre><p id="d2e1487">returns the content of the Text nodes marked up with <q>a</q>.
                                 </p>
                              </li>
                              <li id="d2e1492"><pre class="programlisting" id="d2e1493">select annotationText('encoding:resp') from markup where name='sonneteer'</pre><p id="d2e1495">return the values of all Annotation nodes with a <code class="code">name</code> property value of
                                    <q>resp</q> where the annotation is on another Annotation node, which has a
                                    <code class="code">name</code> property value of <q>encoding</q>, and the
                                    <q>encoding</q> annotation is on a Markup node with the <code class="code">name</code>
                                    property value of <q>sonneteer</q>.
                                 </p>
                              </li>
                           </ul>
                        </div>
                        <p id="d2e1519">The query language operates on sets of nodes and edges. Below are some concise examples
                           of how such queries might operate in terms of the model, which at that level involves
                           a
                           traversal of the Text nodes, since those are the only ordered part of the model. This
                           naïve
                           approach would not be performative and would not be implemented directly; a TAG application,
                           like any database of any type, would employ indices, alternative data structures,
                           caching,
                           and other features that are not part of the model, but that can be used to maximalize
                           performance.<sup class="fn-label"><a href="#d2e1521" class="footnoteref" id="d2e1521-ref">[32]</a></sup></p>
                        <div class="section" id="d2e1524">
                           <h4 class="title" style="clear: both">Sample query: Find all lines in the second quatrain of a sonnet</h4>
                           <p id="d2e1527">Quatrains are stanzas that consist of four poetic lines, and an Elizabethan sonnet
                              consists of three quatrains followed by a couplet, for a total of fourteen lines.
                              Assume a
                              document where lines and quatrains are Markup nodes that point to sets of Text nodes.
                              Start at the Document node and navigate to the first Text node, which is part of the
                              first
                              quatrain. Follow that Text node up to its associated Markup node that has a
                              <code class="code">name</code> property value of <q>quatrain</q>; it points to the set of all
                              of the Text nodes in the quatrain. Follow the chain of Text nodes until the first
                              one not
                              in that set, which will be at the beginning of the second quatrain. Follow its hyperedge
                              up to the associated <q>quatrain</q> Markup node, which points to the set of all
                              of the Text nodes in its tail, that is, all of the text of the second quatrain. If
                              you
                              need the line markup, and not just the text of the lines, return the Text nodes with
                              their
                              associated Markup-to-Text hyperedges that originate in Markup nodes with a
                              <code class="code">name</code> property value of <q>line</q>, that is, with their line
                              markup.
                           </p>
                        </div>
                        <div class="section" id="d2e1544">
                           <h4 class="title" style="clear: both">Sample query: Find enjambment</h4>
                           <p id="d2e1547">Enjambment is a poetic phenomenon where a sentence (or sometimes a phrase) crosses
                              a
                              line boundary. Assume a document where lines and sentences are Markup nodes that point
                              to
                              sets of Text nodes. Traverse the Text nodes starting at the Document node. Any adjacent
                              Text nodes in the tail of the same Markup-to-Text hyperedge with a Markup node
                              <code class="code">name</code> property value of <q>sentence</q>, but in the tails of
                              different Markup-to-Text hyperedges with a Markup node <code class="code">name</code> property value of
                              <q>line</q>, represents an enjambment.
                           </p>
                        </div>
                     </div>
                     <div class="section" id="d2e1561">
                        <h3 class="title" style="clear: both">The Alexandria Markup server API</h3>
                        <p id="d2e1564">The Alexandria Markup server has a REST API, which includes the following:</p>
                        <div class="table-wrapper" id="d2e1566">
                           <p class="title">Table&nbsp;II</p>
                           <table class="table">
                              <tr>
                                 <th>Method</th>
                                 <th>I/O format</th>
                                 <th>Response</th>
                              </tr>
                              <tr>
                                 <td>GET /documents</td>
                                 <td>out: json</td>
                                 <td>returns a list of the urls of the stored documents</td>
                              </tr>
                              <tr>
                                 <td>POST /documents/lmnl</td>
                                 <td>in: lmnl text</td>
                                 <td>add a document using a lmnl text, returns the id of the document in the Location
                                    header 
                                 </td>
                              </tr>
                              <tr>
                                 <td>POST /documents/texmecs</td>
                                 <td>in: texmecs text</td>
                                 <td>add a document using a TexMECS text, returns the id of the document in the Location
                                    header 
                                 </td>
                              </tr>
                              <tr>
                                 <td>GET /documents/{uuid}</td>
                                 <td>out: json</td>
                                 <td>returns information about the document </td>
                              </tr>
                              <tr>
                                 <td>GET /documents/{uuid}/lmnl</td>
                                 <td>out: text</td>
                                 <td>returns a representation of the document in sawtooth syntax </td>
                              </tr>
                              <tr>
                                 <td>POST /documents/{uuid}/query</td>
                                 <td>in: text, out: json</td>
                                 <td>execute a query on the document, return results as json</td>
                              </tr>
                           </table>
                        </div>
                     </div>
                     <div class="section" id="d2e1616">
                        <h3 class="title" style="clear: both">Java/Python clients</h3>
                        <p id="d2e1619">There are clients in Java and Python that, given the URL of an Alexandria Markup server,
                           can connect to it in a way that hides the details of the REST protocol. The client
                           code
                           handles the setting of the required HTTP headers, the formatting of the input and
                           the
                           interpreting of the results.
                        </p>
                     </div>
                  </div>
                  <div class="section" id="d2e1621">
                     <h2 class="title" style="clear: both">Conclusions</h2>
                     <p id="d2e1624">TAG is a graph-based model that consists of a set of nodes and edges (both regular,
                        one-to-one edges and hyperedges). Only Text nodes are ordered, and the order of Markup
                        nodes
                        is derived from the order of the Text nodes to which they point. TAG models containment
                        through subset relations, and overlap through intersection where neither set is a
                        subset of
                        the other, and it deals naturally with discontinuity because there is no requirement
                        that sets
                        of nodes be contiguous. TAG is capable of modeling hierarchy, but it is not required
                        to do so,
                        and it is possible to have multiple hierarchies. TAG separates the datatyping role
                        of tagging
                        from issues of hierarchy, so it is possible to label a set of Text nodes with a Markup-to-Text
                        hyperedge without affecting hierarchical relations, and it also possible to annotate
                        a set of
                        Text nodes with naming them, that is, without the equivalent of an XML generic identifier.
                        A
                        root node is optional. At the moment there is a single text order, but TAG recognizes
                        the need
                        for greater nuance in this area, about which see <a class="xref" href="#to_do" id="d2e1626">Appendix B</a>, which also
                        identifies other issues that TAG does not (yet) address.
                     </p>
                  </div>
                  <div class="appendix" id="sonnet-71_text">
                     <h2 class="title" style="clear: both">Appendix A. William Shakespeare, Sonnet 71</h2><pre class="programlisting" id="d2e1631">No longer mourn for me when I am dead
Than you shall hear the surly sullen bell
Give warning to the world that I am fled
From this vile world with vilest worms to dwell:

Nay, if you read this line, remember not
The hand that writ it, for I love you so,
That I in your sweet thoughts would be forgot,
If thinking on me then should make you woe.

O! if,—I say you look upon this verse,
When I perhaps compounded am with clay,
Do not so much as my poor name rehearse;
But let your love even with my life decay;

Lest the wise world should look into your moan,
And mock you with me after I am gone.</pre></div>
                  <div class="appendix" id="to_do">
                     <h2 class="title" style="clear: both">Appendix B. Features of text not currently represented in TAG or in Alexandria Markup</h2>
                     <p id="d2e1636">The following are not currently part of the TAG model, but they are recognized as
                        necessary components of a textual data model, and under development.
                     </p>
                     <div class="section" id="d2e1638">
                        <h3 class="title" style="clear: both">Order</h3>
                        <p id="d2e1641">TAG, like XML, is currently fully ordered, but some textual meaning is either unordered
                           (simultaneity) or multiordered (transposition). The fully ordered set of Text nodes
                           in the
                           current TAG model and its implementation in Alexandria Markup is easily traversed,
                           but
                           simultaneity and transposition present challenges to traversal that we are still evaluating.
                           TAG intends to support the representation of both simultaneity and transposition in
                           the
                           model, in distinction from XML, where the model is an ordered tree and deviations
                           from a
                           single order must be handled at the application layer.
                        </p>
                        <div class="section" id="d2e1643">
                           <h4 class="title" style="clear: both">Simultaneity</h4>
                           <p id="d2e1646">All Text nodes in TAG are ordered, but modeling text as a partially ordered set,
                              rather than as an ordered set, would reflect the nature of text more correctly. For
                              example, the TEI XML <code class="code">&lt;choice&gt;</code> element wraps child elements that do not
                              have a logical mutual order, such as an abbreviation and its expansion or an error
                              and its
                              correction. In XML, artifactual order of this sort cannot be excluded from the model,
                              and
                              must therefore be ignored at the application level, and TAG, as described above, currently
                              has the same limitation. Ideally, sets of Text nodes that are not mutually ordered
                              logically would not be represented as ordered in the model.
                           </p>
                           <p id="d2e1651">Not only does XML order the children of <code class="code">&lt;choice&gt;</code> even though they
                              have no logical order,<sup class="fn-label"><a href="#d2e1656" class="footnoteref" id="d2e1656-ref">[33]</a></sup> but the <code class="code">&lt;choice&gt;</code> element itself is an artifactual Content
                              Object, as it represents as an element in the hierarchy a property that is fundamentally
                              an issue of traversal. The same is true of the TEI <code class="code">&lt;app&gt;</code> element in the
                              parallel segmentation representation of textual variation. Both the artifactual order
                              and
                              the artifactual wrapper must be interpreted at the application layer, and the information
                              they add is not about the document content as much as it is about the markup, viz.,
                              that
                              although XML is an ordered tree, the order of the children of these particular elements
                              is
                              not informational.
                           </p>
                           <p id="d2e1669">One possible way to an alternative model is suggested by the Variant Graph that is
                              used to represent textual variation in the open-source CollateX collation tool [<a class="xref" id="d2e1671" href="javascript:showcite('cite-collatex','d2e1671')">CollateX</a>]. The variant graph represents alternative readings (from different
                              manuscript witnesses) without wrapper constructions, and could be used to model
                              simultaneous alternatives in TAG without either artifactual order or artifactual wrappers.
                              For example, an abbreviation and its expansion might be represented through a directed
                              acyclic multigraph as:
                           </p>
                           <div class="figure" id="flotus">
                              <p class="title">Figure&nbsp;13: Abbreviation and expansion</p>
                              <div class="figure-contents">
                                 <div class="mediaobject" id="d2e1676"><img alt="png image (flotus.png)" src="flotus.png"></div>
                                 <div class="caption">
                                    <p id="d2e1680">From <a href="https://www.nytimes.com/interactive/2016/11/02/fashion/how-to-dress-like-michelle-obama.html" class="link" target="_new">What would Michelle do?</a>, <span class="ital">New York Times</span>,
                                       2016-11-02. There is no artifactual wrapper element, like TEI
                                       <code class="code">&lt;choice&gt;</code>.
                                    </p>
                                 </div>
                              </div>
                           </div>
                           <p id="d2e1691">Because currently Text nodes in TAG are fully ordered, it is not now possible to model
                              simultaneity through multiple, differently labeled ordering edges between Text nodes.
                              We
                              are exploring strategies for remedying this limitation.
                           </p>
                        </div>
                        <div class="section" id="d2e1693">
                           <h4 class="title" style="clear: both">Transposition</h4>
                           <p id="d2e1696">Representing alternative orders of the same content, as may be needed in critical
                              editions in which the textual witnesses may contain some of the same words, but with
                              reordering, poses a challenge for data models based on a single linear textual order,
                              including, at the moment, TAG. Insofar as a critical text may be instantiated as a
                              single
                              document, and two witnesses may differ through transposition, the representation of
                              transposition is a requirement for a satisfactory text model. The representation of
                              transposition is also part of the Variant Graph structure used to model textual variation
                              in the open-source CollateX collation tool [<a class="xref" id="d2e1698" href="javascript:showcite('cite-collatex','d2e1698')">CollateX</a>], and suggests a
                              way to incorporate transposition into TAG, but because currently Text nodes in TAG
                              are
                              fully ordered, it is not now possible to model transpositions in TAG as alternative
                              orders. In the following hypothetical transposition scenario, each set of labeled
                              edges
                              forms a single complete order with no cycles:
                           </p>
                           <div class="figure" id="stormy">
                              <p class="title">Figure&nbsp;14: Transposition</p>
                              <div class="figure-contents">
                                 <div class="mediaobject" id="d2e1703"><img alt="png image (stormy.png)" src="stormy.png"></div>
                                 <div class="caption">
                                    <p id="d2e1707">Witness A (black and blue edges) reads <q>It was a dark and stormy
                                          night</q> and witness B (black and red edges) reads <q>It was a stormy and
                                          dark night</q>. The edges for witness A (labeled either only <q>A</q> or
                                       <q>A,B</q>) describe an acyclic directed graph, as do those for witness B
                                       (labeled only <q>B</q> or <q>A,B</q>).
                                    </p>
                                 </div>
                              </div>
                           </div>
                           <p id="d2e1728">The multigraph above uses labeled edges to permit traversal without cycles over edges
                              that share a label, and suggests a possibility for supporting transpositions, which
                              is a
                              necessary part of modeling multi-witness critical texts.
                           </p>
                        </div>
                        <div class="section" id="d2e1730">
                           <h4 class="title" style="clear: both">Intradocumentary variation</h4>
                           <p id="d2e1733">Intradocumentary variation (see <a class="xref" id="d2e1735" href="javascript:showcite('cite-ge','d2e1735')">TEI Genetic editions</a>), such as additions, deletions,
                              and rearrangements, pose a special challenge at least two reasons:
                           </p>
                           <div class="orderedlist" id="d2e1737">
                              <ol style="list-style-type: decimal;">
                                 <li id="d2e1738">
                                    <p id="d2e1739">An edition may include multiple witnesses, each of which may have intradocumentary
                                       variation. For example, the same or different persons may have created additions and
                                       deletions and then layered additions and deletions onto those additions and deletions
                                       in each of the witnesses to a tradition. This is challenging not only from a modeling
                                       perspective, but also from a philological one. A intuitive and widely-used strategy
                                       involves selecting one revision layer per witness for the purpose of comparison with
                                       other witnesses, with the undesirable result that the other layers are ignored,
                                       perhaps without clear philological justification. Another approach is to create
                                       pseudo-witnesses, such as &nbsp;an <q>Additions</q> witness and a
                                       <q>Deletions</q> witness. However, the pseudo-witness approach falls short
                                       because intradocumentary variation is local: an addition in one place is likely to
                                       be
                                       independent of an addition in another.
                                    </p>
                                 </li>
                                 <li id="d2e1747">
                                    <p id="d2e1748">Intradocumentary variation may affect not only the Text nodes, but also the markup
                                       hierarchy. For example, one paragraph may be divided into two, or a section may be
                                       demoted to a subsection, without any change to the values of the Text nodes
                                       themselves. The same may apply to <span class="ital">inter</span>documentary
                                       variation: when one paragraph in witness A becomes two paragraphs in witness B. For
                                       an
                                       experimental investigation of these issues in an XML context see <a class="xref" id="d2e1753" href="javascript:showcite('cite-bleeker_2017','d2e1753')">Bleeker 2017</a>.
                                    </p>
                                 </li>
                              </ol>
                           </div>
                        </div>
                     </div>
                     <div class="section" id="d2e1755">
                        <h3 class="title" style="clear: both">Constraint language</h3>
                        <p id="d2e1758">Constraints in this paper are expressed in prose. They should be expressed formally
                           in a
                           more complete specification.
                        </p>
                     </div>
                     <div class="section" id="d2e1760">
                        <h3 class="title" style="clear: both">Markup language</h3>
                        <p id="d2e1763">TAG does not define a markup language, that is, a syntactic form that can be used
                           to tag
                           text and for import and export serialization. As was noted above, Alexandria Markup
                           can
                           parse LMNL syntax (into the TAG data model, not the LMNL one, so it is not so much
                           parsing
                           LMNL as borrowing LMNL syntax to express TAG relationships), the same is true of TexMECS,
                           and similar support is planned for XML syntax. None of these three grammars is capable
                           of
                           representing all of the features of TAG. We leave open the question of how to provide
                           a
                           character-string serialization of a TAG document.
                        </p>
                     </div>
                  </div>
                  <div class="appendix" id="snark">
                     <h2 class="title" style="clear: both">Appendix C. Hypergraph visualizations</h2>
                     <p id="d2e1769">The image below visualizes hypergraph properties of part of Lewis Carroll’s <q>Hunting
                           of the Snark</q>.
                     </p>
                     <div class="figure" id="snark_hypergraph">
                        <p class="title">Figure&nbsp;15: Lewis Carroll, <q>The hunting of the Snark</q> (excerpt)
                        </p>
                        <div class="figure-contents">
                           <div class="mediaobject" id="d2e1780"><img alt="png image (3d_new_top-fs8.png)" src="3d_new_top-fs8.png"></div>
                           <div class="caption">
                              <p id="d2e1784">This hypergraph models the containment and order of the text, with no statement of
                                 hierarchy (dominance).
                              </p>
                           </div>
                        </div>
                     </div>
                     <p id="d2e1786"> Text nodes are black hexagons with white text, and they are connected in a single
                        chain
                        (which starts at the Document node) by black bars. Markup nodes of type <q>Line</q>,
                        <q>Voice</q>, <q>Stanza</q>, <q>Sentence</q>, <q>Page</q>,
                        and <q>Excerpt</q> are represented by irregular backgrounds of white, chartreuse
                        yellow, magenta, blue, orange, and green, respectively. Annotation nodes on
                        <q>Excerpt</q>, <q>Page</q>, and <q>Voice</q> Markup nodes have
                        names and properties. The image models containment with no statement of dominance,
                        although
                        dominance could be asserted by adding Markup-to-Markup hyperedges.
                     </p>
                     <p id="d2e1816">The following images emphasize different aspects of the model:</p>
                     <div class="figure" id="snark_discontinuity">
                        <p class="title">Figure&nbsp;16: Lewis Carroll, <q>The hunting of the Snark</q> (excerpt)
                        </p>
                        <div class="figure-contents">
                           <div class="mediaobject" id="d2e1824"><img alt="png image (3d_new_discontinuity.png)" src="3d_new_discontinuity.png"></div>
                           <div class="caption">
                              <p id="d2e1828">The image shows how discontinuous parts of the same unit are combined and annotated
                                 in
                                 the model.
                              </p>
                           </div>
                        </div>
                     </div>
                     <div class="figure" id="snark_layers">
                        <p class="title">Figure&nbsp;17: Lewis Carroll, <q>The hunting of the Snark</q> (excerpt)
                        </p>
                        <div class="figure-contents">
                           <div class="mediaobject" id="d2e1836"><img alt="png image (3d_new_layers.png)" src="3d_new_layers.png"></div>
                           <div class="caption">
                              <p id="d2e1840">The image shows the layering of different types of Markup on the same Text
                                 nodes.
                              </p>
                           </div>
                        </div>
                     </div>
                     <div class="figure" id="snark_perspective">
                        <p class="title">Figure&nbsp;18: Lewis Carroll, <q>The hunting of the Snark</q> (excerpt)
                        </p>
                        <div class="figure-contents">
                           <div class="mediaobject" id="d2e1848"><img alt="png image (3d_new_perspective.png)" src="3d_new_perspective.png"></div>
                           <div class="caption">
                              <p id="d2e1852">The image provides a closer look at the layering. The higher voice levels contain
                                 text
                                 spoken by the Baker but reported by the narrator, which is why they are the targets
                                 of
                                 more than one Markup node of with a <code class="code">name</code> property value of
                                 <q>voice</q>.
                              </p>
                           </div>
                        </div>
                     </div>
                     <div class="figure" id="snark_sets">
                        <p class="title">Figure&nbsp;19: Lewis Carroll, <q>The hunting of the Snark</q> (excerpt)
                        </p>
                        <div class="figure-contents">
                           <div class="mediaobject" id="d2e1866"><img alt="png image (3d_new_sets.png)" src="3d_new_sets.png"></div>
                           <div class="caption">
                              <p id="d2e1870">The image illustrates how annotations may have their own Text nodes.</p>
                           </div>
                        </div>
                     </div>
                  </div>
                  <div class="appendix" id="requirements">
                     <h2 class="title" style="clear: both">Appendix D. Requirements</h2>
                     <p id="d2e1875">An improved text model should have the following properties. In all instances where
                        we
                        write that <q>the model should be able to X</q>, we mean that it should be able to X
                        without requiring access to semantic information at the application level. In other
                        words, the
                        components of the model should fully represent the properties of the text being modeled,
                        with
                        no extraneous artifactual properties that an application must then know to ignore.
                        XML uses
                        the term <q>markup</q> to identify both elements and attributes, while in the list
                        below we use the TAG terminology, where the term <q>markup</q> refers to the
                        counterpart to XML elements and <q>annotation</q> to the counterpart to XML
                        attributes.
                     </p>
                     <p id="d2e1889">The following are characteristics we might ask of an improved text model:
                        <div class="itemizedlist" id="d2e1891">
                           <ul>
                              <li id="d2e1892">
                                 <p id="d2e1893">It should support both textual (character data) content and markup and annotations
                                    (of the sort expressed in XML through element and attribute markup).
                                 </p>
                              </li>
                              <li id="d2e1895">
                                 <p id="d2e1896">It should support multiple layers of markup and annotation.</p>
                              </li>
                              <li id="d2e1898">
                                 <p id="d2e1899">It should be able to represent overlapping markup.</p>
                              </li>
                              <li id="d2e1901">
                                 <p id="d2e1902">It should be able to represent discontinuous markup.</p>
                              </li>
                              <li id="d2e1904">
                                 <p id="d2e1905">It should be able to represent components that are not logically ordered without
                                    imposing an arbitrary order that must then be ignored.
                                 </p>
                              </li>
                              <li id="d2e1907">
                                 <p id="d2e1908">It should be able to represent transpositions, or reorderings, e.g., in a critical
                                    text with variants that differ only in order.
                                 </p>
                              </li>
                              <li id="d2e1910">
                                 <p id="d2e1911">It should support annotations on annotations, that is, metadata about
                                    metadata.
                                 </p>
                              </li>
                              <li id="d2e1913">
                                 <p id="d2e1914">It should support but not require the representation of hierarchy, including
                                    multiple, partial, or overlapping hierarchies.
                                 </p>
                              </li>
                              <li id="d2e1916">
                                 <p id="d2e1917">With respect to reading, it should support queries for text, markup, annotations,
                                    or
                                    a combination of those components.
                                 </p>
                              </li>
                              <li id="d2e1919">
                                 <p id="d2e1920">With respect to writing, it should support creating, inserting, deleting, or
                                    otherwise modifying both textual content and markup and annotations.
                                 </p>
                              </li>
                              <li id="d2e1922">
                                 <p id="d2e1923">With respect to workflow, it should be possible to defer decisions about relations
                                    among layers. For example, it should be possible to create markup and annotations
                                    without hierarchy and apply a hierarchy only later. This deferral might be compared
                                    to
                                    the way XML documents may be validated against schemas that may be created and
                                    associated only after a fully functional well-formed document has been created.
                                 </p>
                              </li>
                              <li id="d2e1926">
                                 <p id="d2e1927">With respect to scalability, it should enable, in a computationally efficient way,
                                    the types of documents and processing likely to be required by the digital text
                                    community.
                                 </p>
                              </li>
                              <li id="d2e1929">
                                 <p id="d2e1930">With respect to I/O, a system that implements the model should support serialization
                                    as plain text on export and the parsing of such serializations on import. TAG does
                                    not
                                    currently have its own syntax. Our Alexandria Markup implementation can read and write
                                    LMNL sawtooth syntax and can read TexMECS, and it is intended to be able to read and
                                    write XML.<sup class="fn-label"><a href="#d2e1932" class="footnoteref" id="d2e1932-ref">[34]</a></sup></p>
                              </li>
                              <li id="d2e1945">
                                 <p id="d2e1946">With respect to user interaction, a system that implements the model should provide
                                    a legible interface that enables reading and writing by human users.<sup class="fn-label"><a href="#d2e1948" class="footnoteref" id="d2e1948-ref">[35]</a></sup></p>
                              </li>
                           </ul>
                        </div>
                     </p>
                  </div>
                  <div class="bibliography" id="d2e1951">
                     <h2 class="title" style="clear:both">Works cited</h2>
                     <p class="bibliomixed" id="birnbaum_2015"><a href="#d2e1174">[Birnbaum and Thorsen 2015] </a>Birnbaum, David J.,
                        and Elise Thorsen. <q>Markup and meter: Using XML tools to teach a computer to think about
                           versification.</q> Presented at Balisage: The Markup Conference 2015, Washington, DC,
                        August 11–14, 2015. In <span class="ital">Proceedings of Balisage: The Markup Conference
                           2015</span>. Balisage Series on Markup Technologies, vol. 15 (2015). DOI:
                        10.4242/BalisageVol15.Birnbaum01. <a href="https://www.balisage.net/Proceedings/vol15/html/Birnbaum01/BalisageVol15-Birnbaum01.html" class="link" target="_new">https://www.balisage.net/Proceedings/vol15/html/Birnbaum01/BalisageVol15-Birnbaum01.html</a></p>
                     <p class="bibliomixed" id="bleeker_2017"><a href="#d2e1753">[Bleeker 2017] </a>Bleeker, Elli. <q>Mapping
                           invention in writing: digital infrastructure and the role of the genetic editor.</q> PhD
                        dissertation, University of Antwerp, 2017.
                     </p>
                     <p class="bibliomixed" id="collatex"><a href="#d2e1671">[CollateX] </a>CollateX.
                        <a href="https://pypi.python.org/pypi/collatex" class="link" target="_new">https://pypi.python.org/pypi/collatex</a></p>
                     <p class="bibliomixed" id="coombs_1987"><a href="#d2e109">[Coombs et al. 1987] </a>Coombs, James H., Allen H.
                        Renear, and Steven J. DeRose. <q>Markup systems and the future of scholarly text
                           processing.</q>
                        <span class="ital">Communications of the association for computing machinery</span>,
                        30.11 (Nov. 1987): 933–47. doi:10.1145/32206.32209
                     </p>
                     <p class="bibliomixed" id="derose_2004"><a href="#d2e90">[DeRose 2004] </a>DeRose, Steven J. <q>Markup
                           overlap: a review and a horse.</q> Extreme Markup Languages 2004.
                        <a href="http://xml.coverpages.org/DeRoseEML2004.pdf" class="link" target="_new">http://xml.coverpages.org/DeRoseEML2004.pdf</a></p>
                     <p class="bibliomixed" id="derose_1990"><a href="#d2e111">[DeRose et al. 1990] </a>DeRose, Steven J., David G.
                        Durand, Elli Mylonas, and Allen H. Renear. <q>What is text, really?</q>, <span class="ital">Journal of computing in higher education</span>, 1.2 (1990): 3–26.
                        doi:10.1007/BF02941632.
                        <a href="http://www.cip.ifi.lmu.de/~langeh/test/1990%20-%20DeRose%20-%20What%20is%20Text,%20really%3F.pdf" class="link" target="_new">http://www.cip.ifi.lmu.de/~langeh/test/1990%20-%20DeRose%20-%20What%20is%20Text,%20really%3F.pdf</a></p>
                     <p class="bibliomixed" id="hilbert_2005"><a href="#d2e134">[Hilbert, Schonefeld, and Witt 2005] </a>Hilbert,
                        Mirco, Oliver Schonefeld, and Andreas Witt. <q>Making CONCUR work.</q>
                        <span class="ital">Proceedings of Extreme Markup Languages</span> 2005.
                        <a href="http://conferences.idealliance.org/extreme/html/2005/Witt01/EML2005Witt01.xml#Horse" class="link" target="_new">http://conferences.idealliance.org/extreme/html/2005/Witt01/EML2005Witt01.xml#Horse</a></p>
                     <p class="bibliomixed" id="huitfeldt_2003"><a href="#d2e411">[Huitfeldt and Sperberg-McQueen 2003] </a>Huitfeldt,
                        Claus and C. Michael Sperberg-McQueen. <q>TexMECS. An experimental markup meta-language
                           for complex documents.</q> Revision of 5 October 2003.
                        <a href="http://mlcd.blackmesatech.com/mlcd/2003/Papers/texmecs.html" class="link" target="_new">http://mlcd.blackmesatech.com/mlcd/2003/Papers/texmecs.html</a></p>
                     <p class="bibliomixed" id="ide_2007"><a href="#d2e175">[Ide and Suderman 2007] </a>Ide, Nancy and Keith Suderman.
                        <q>GrAF: a graph-based format for linguistic annotations.</q> Proceedings of the
                        Linguistic Annotation Workshop, held in conjunction with ACL 2007, Prague, June 28–29,
                        1–8.
                        <a href="https://www.cs.vassar.edu/~ide/papers/LAW.pdf" class="link" target="_new">https://www.cs.vassar.edu/~ide/papers/LAW.pdf</a></p>
                     <p class="bibliomixed" id="LMNL_data"><a href="#d2e397">[LMNL data model] </a>LMNLWiki. <q>LMNL data
                           model.</q> From the <span class="ital">Lost Archives of LMNL</span>.
                        <a href="http://www.lmnl.net/prose/data-model/data-model-spec.html" class="link" target="_new">http://www.lmnl.net/prose/data-model/data-model-spec.html</a></p>
                     <p class="bibliomixed" id="peroni_2014"><a href="#d2e290">[Peroni et al. 2014] </a>Peroni, Silvio, Francesco Poggi
                        and Fabio Vitali. <q>Overlapproaches in documents: a definitive classification (in OWL,
                           2!).</q> Presented at Balisage: The Markup Conference 2014, Washington, DC, August 5 -
                        8, 2014. In <span class="ital">Proceedings of Balisage: The Markup Conference 2014.
                           Balisage Series on Markup Technologies</span>, 13 (2014). DOI:
                        10.4242/BalisageVol13.Peroni01.
                        <a href="https://www.balisage.net/Proceedings/vol13/html/Peroni01/BalisageVol13-Peroni01.html" class="link" target="_new">https://www.balisage.net/Proceedings/vol13/html/Peroni01/BalisageVol13-Peroni01.html</a></p>
                     <p class="bibliomixed" id="piez_2008"><a href="#d2e408">[Piez 2008] </a>Piez, Wendell. <q>LMNL in miniature.
                           An introduction.</q> Amsterdam Goddag Workshop, 1–5 December 2008.
                        <a href="http://piez.org/wendell/LMNL/Amsterdam2008/presentation-slides.html" class="link" target="_new">http://piez.org/wendell/LMNL/Amsterdam2008/presentation-slides.html</a></p>
                     <p class="bibliomixed" id="piez_2010"><a href="#d2e781">[Piez 2010] </a>Piez, Wendell. <q>Towards hermeneutic
                           markup. An architectural outline.</q> Presentation at Digital Humanities 2010, King’s
                        College, London. <a href="http://piez.org/wendell/papers/dh2010/" class="link" target="_new">http://piez.org/wendell/papers/dh2010/</a> The screen shot in this
                        paper is taken from
                        <a href="http://piez.org/wendell/papers/dh2010/clix-sonnets/ozymandias-map.svg" class="link" target="_new">http://piez.org/wendell/papers/dh2010/clix-sonnets/ozymandias-map.svg</a>.
                     </p>
                     <p class="bibliomixed" id="piez_2014"><a href="#d2e115">[Piez 2014] </a>Piez, Wendell. <q>Hierarchies within
                           range space: From LMNL to OHCO.</q> Presented at <span class="ital">Balisage: The
                           Markup Conference 2014, Washington, DC, August 5 - 8, 2014.</span> In <span class="ital">Proceedings of Balisage: The Markup Conference 2014. Balisage series on markup
                           technologies,</span> vol. 13 (2014). DOI: 10.4242/BalisageVol13.Piez01.
                        <a href="http://www.balisage.net/Proceedings/vol13/html/Piez01/BalisageVol13-Piez01.html" class="link" target="_new">http://www.balisage.net/Proceedings/vol13/html/Piez01/BalisageVol13-Piez01.html</a></p>
                     <p class="bibliomixed" id="renear_1996"><a href="#d2e113">[Renear, Mylonas, and Durand 1996] </a>Renear, Allen H.,
                        Elli Mylonas, and David G. Durand. <q>Refining our notion of what text really is: the
                           problem of overlapping hierarchies.</q>
                        <span class="ital">Research in humanities computing</span>, ed. Nancy Ide and Susan
                        Hockey. Oxford: Oxford University Press. 1996.
                        <a href="http://cds.library.brown.edu/resources/stg/monographs/ohco.html" class="link" target="_new">http://cds.library.brown.edu/resources/stg/monographs/ohco.html</a></p>
                     <p class="bibliomixed" id="sperberg_2008">[Sperberg-McQueen and Huitfeldt 2008] Sperberg-McQueen, C. M., and Claus Huitfeldt. “Containment and dominance in Goddag
                        structures”. Talk at conference on "Processing Text-Technological Resources", Center
                        for
                        interdisciplinary research, University of Bielefeld, March 2008. <a href="http://cmsmcq.com/2008/bielefeld/slides.html#(1)" class="link" target="_new">http://cmsmcq.com/2008/bielefeld/slides.html#(1)</a></p>
                     <p class="bibliomixed" id="sperberg-huitfeldt_2000"><a href="#d2e88">[Sperberg-McQueen and Huitfeldt 2000] </a>Sperberg-McQueen, C. M. and Claus Huitfeldt. <q>GODDAG: a data structure for overlapping
                           hierarchies.</q>
                        <span class="ital">Digital documents: systems and principles: 8th international conference
                           on digital documents and electronic publishing, DDEP 2000, 5th international workshop
                           on the
                           principles of digital document processing, PODDP 2000, Munich, Germany, September
                           13–15,
                           2000, revised papers</span>, ed. Peter King and Ethan V. Munson. NY: Springer, 2004,
                        139–60. A revised version is available at
                        <a href="http://cmsmcq.com/2000/poddp2000.html" class="link" target="_new">http://cmsmcq.com/2000/poddp2000.html</a></p>
                     <p class="bibliomixed" id="sperberg_2008-bielefeld"><a href="#d2e379">[Sperberg-McQueen and Huitfeldt 2008a] </a>Sperberg-McQueen, C. M., and Claus Huitfeldt. <q>.Containment and dominance in Goddag
                           structures</q> Presented at Processing text-technological resources, Bielefeld, March
                        13-15, 2008, organized by the Zentrum für interdisziplinäre Forschung der Universität
                        Bielefeld. Slides (but not full text) available on the Web at
                        <a href="http://www.w3.org/People/cmsmcq/2008/bielefeld/slides.html" class="link" target="_new">http://www.w3.org/People/cmsmcq/2008/bielefeld/slides.html</a></p>
                     <p class="bibliomixed" id="sperberg-huitfeldt_2008"><a href="#d2e381">[Sperberg-McQueen and Huitfeldt 2008b] </a>Sperberg-McQueen, C. M. and Claus Huitfeldt. <q>Markup Discontinued: Discontinuity in
                           TexMecs, Goddag structures, and rabbit/duck grammars.</q>
                        <span class="ital">Presented at Balisage: The Markup Conference 2008, Montréal, Canada,
                           August 12 - 15, 2008.</span> In <span class="ital">Proceedings of Balisage: The
                           Markup Conference 2008. Balisage Series on Markup Technologies</span>, vol. 1 (2008).
                        DOI: 10.4242/BalisageVol1.Sperberg-McQueen01.
                        <a href="http://www.balisage.net/Proceedings/vol1/html/Sperberg-McQueen01/BalisageVol1-Sperberg-McQueen01.html" class="link" target="_new">http://www.balisage.net/Proceedings/vol1/html/Sperberg-McQueen01/BalisageVol1-Sperberg-McQueen01.html</a></p>
                     <p class="bibliomixed" id="tennison_2008"><a href="#d2e982">[Tennison 2008] </a>Tennison, Jeni. <q>Overlap,
                           containment and dominance. <span class="ital">Jeni’s musings</span>,
                           2008-12-06.</q>
                        <a href="http://www.jenitennison.com/2008/12/06/overlap-containment-and-dominance.html" class="link" target="_new">http://www.jenitennison.com/2008/12/06/overlap-containment-and-dominance.html</a></p>
                     <p class="bibliomixed" id="ge"><a href="#d2e1735">[TEI Genetic editions] </a>TEI WG-GE. <q>An encoding model
                           for genetic editions.</q>
                        <a href="http://www.tei-c.org/Activities/Council/Working/index.html" class="link" target="_new">s</a></p>
                     <p class="bibliomixed" id="W3C_DOM"><a href="#d2e1368">[W3C DOM] </a>W3C. <q>What is the Document Object
                           Model?</q>
                        <span class="ital">Document Object Model (DOM). Level 2 Core Specification. Version
                           1.0</span>
                        <a href="https://www.w3.org/TR/DOM-Level-2-Core/introduction.html" class="link" target="_new">https://www.w3.org/TR/DOM-Level-2-Core/introduction.html</a></p>
                     <p class="bibliomixed" id="W3C_xml"><a href="#d2e1095">[W3C XML] </a>W3C. <span class="ital">Extensible Markup
                           Language (XML) 1.0 (fifth edition).</span>
                        <a href="http://www.w3.org/TR/xml/" class="link" target="_new">http://www.w3.org/TR/xml/</a></p>
                     <p class="bibliomixed" id="W3C_xmlinfoset"><a href="#d2e288">[W3C XML InfoSet] </a>W3C. <span class="ital">XML
                           Information Set (second edition).</span>
                        <a href="https://www.w3.org/TR/xml-infoset/" class="link" target="_new">https://www.w3.org/TR/xml-infoset/</a></p>
                     <p class="bibliomixed" id="W3C_xdm"><a href="#d2e1372">[W3C XDM] </a>W3C. <span class="ital">XQuery and XPath
                           Data Model 3.1.</span>
                        <a href="https://www.w3.org/TR/xpath-datamodel-3/#Node" class="link" target="_new">https://www.w3.org/TR/xpath-datamodel-3/#Node</a></p>
                  </div>
                  <div class="footnotes"><br><hr width="100" align="left">
                     <div id="d2e6" class="footnote">
                        <p><sup class="fn-label"><a href="#d2e6-ref" class="footnoteref">[1]</a></sup> The authors are grateful to Elisa Beshero-Bondar, Elli Bleeker, Gijsjan Brouwer, Bram
                           Buitendijk, and Astrid Kulsdom for their valuable contributions and support.
                        </p>
                     </div>
                     <div id="d2e97" class="footnote">
                        <p><sup class="fn-label"><a href="#d2e97-ref" class="footnoteref">[2]</a></sup> Others properties, often more lexical than structural, may depend on contextual
                           information that is not always expressed explicitly. For example, a capitalized reference
                           to <q>London</q> is formally marked as a proper noun by capitalization, but
                           whether it is a placename in England (or Ohio or Ontario or elsewhere) or the personal
                           surname of a US writer is not represented formally.
                        </p>
                     </div>
                     <div id="d2e106" class="footnote">
                        <p><sup class="fn-label"><a href="#d2e106-ref" class="footnoteref">[3]</a></sup> The OHCO literature is already familiar to the Balisage audience, and it is not our
                           goal to provide an exhaustive bibliography. The seminal papers that advocated for
                           OHCO as
                           a document model are <a class="xref" id="d2e109" href="javascript:showcite('cite-coombs_1987','d2e109')">Coombs et al. 1987</a> and <a class="xref" id="d2e111" href="javascript:showcite('cite-derose_1990','d2e111')">DeRose et al. 1990</a>; the
                           seminal examination of the limitations of OHCO, by some of the same authors, is <a class="xref" id="d2e113" href="javascript:showcite('cite-renear_1996','d2e113')">Renear, Mylonas, and Durand 1996</a> (first introduced as a conference presentation in 1992). Wendell
                           Piez discusses issues pertaining to overlap and OHCO, and the alternative range model
                           implemented in LMNL, in <a class="xref" id="d2e115" href="javascript:showcite('cite-piez_2014','d2e115')">Piez 2014</a>.
                        </p>
                     </div>
                     <div id="d2e118" class="footnote">
                        <p><sup class="fn-label"><a href="#d2e118-ref" class="footnoteref">[4]</a></sup> Within the Balisage community, at present
                           <a href="http://www.balisage.net/Proceedings/topics/Concurrent_Markup~Overlap.html" class="link" target="_new">http://www.balisage.net/Proceedings/topics/Concurrent_Markup~Overlap.html</a>
                           lists twenty-five presentations from 2008 through 2016
                        </p>
                     </div>
                     <div id="d2e131" class="footnote">
                        <p><sup class="fn-label"><a href="#d2e131-ref" class="footnoteref">[5]</a></sup> See, e.g., <a class="xref" id="d2e134" href="javascript:showcite('cite-hilbert_2005','d2e134')">Hilbert, Schonefeld, and Witt 2005</a>.
                        </p>
                     </div>
                     <div id="d2e138" class="footnote">
                        <p><sup class="fn-label"><a href="#d2e138-ref" class="footnoteref">[6]</a></sup> See especially <a class="xref" id="d2e141" href="javascript:showcite('cite-piez_2014','d2e141')">Piez 2014</a>.
                        </p>
                     </div>
                     <div id="d2e147" class="footnote">
                        <p><sup class="fn-label"><a href="#d2e147-ref" class="footnoteref">[7]</a></sup> The desiderata TAG seeks to satisfy are described in a requirements document in <a class="xref" href="#requirements" id="d2e150">Appendix D</a>.
                        </p>
                     </div>
                     <div id="d2e157" class="footnote">
                        <p><sup class="fn-label"><a href="#d2e157-ref" class="footnoteref">[8]</a></sup> We have created <a href="https://github.com/HuygensING/TAG" class="link" target="_new">https://github.com/HuygensING/TAG</a> as a portal where we
                           intend to maintain links to all of our work on TAG as a model and on the Alexandria
                           Markup
                           implementation that we discuss below.
                        </p>
                     </div>
                     <div id="d2e275" class="footnote">
                        <p><sup class="fn-label"><a href="#d2e275-ref" class="footnoteref">[9]</a></sup> The same applies to Annotation nodes, which are not ordered, but which are
                           attached to either Markup or other Annotation nodes. Two Markup nodes that point to
                           the same Text nodes are not ordered with respect to each other, since the inferred
                           order of a Markup node is a derived property of the set of Text nodes to which it
                           is
                           attached, and in this example the markup is attached to the same Text nodes. See also
                           below about markup dominance.
                        </p>
                     </div>
                     <div id="d2e279" class="footnote">
                        <p><sup class="fn-label"><a href="#d2e279-ref" class="footnoteref">[10]</a></sup> The XML InfoSet specification defines a <code class="code">children</code> property on element
                           information items, the value of which is <q>[a]n ordered list of child information
                              items, in document order</q>. [<a class="xref" id="d2e288" href="javascript:showcite('cite-W3C_xmlinfoset','d2e288')">W3C XML InfoSet</a>, §2.2] This
                           means that parents know the order of their children, but children do not know their
                           place in that order. The restricted version of GODDAG, like TAG, has a single order
                           for all Text nodes, while generalized GODDAG allows different orders in the case of
                           multiple parentage. As far as we know, there is currently no implementation of
                           generalized GODDAG other than the stand-off version implemented in EARMARK, which
                           does
                           not store the Text nodes in memory. [<a class="xref" id="d2e290" href="javascript:showcite('cite-peroni_2014','d2e290')">Peroni et al. 2014</a>]
                        </p>
                     </div>
                     <div id="d2e304" class="footnote">
                        <p><sup class="fn-label"><a href="#d2e304-ref" class="footnoteref">[11]</a></sup> See also the discussion of unordered content and transpositions in <a class="xref" href="#to_do" id="d2e307">Appendix B</a>.
                        </p>
                     </div>
                     <div id="d2e388" class="footnote">
                        <p><sup class="fn-label"><a href="#d2e388-ref" class="footnoteref">[12]</a></sup> LMNL ranges must be continuous because they have single <code class="code">start</code> and
                           <code class="code">end</code> properties [<a class="xref" id="d2e397" href="javascript:showcite('cite-LMNL_data','d2e397')">LMNL data model</a>], and <q>a value
                              comprising a single string (a sequence of contiguous characters).</q> [<a class="xref" id="d2e402" href="javascript:showcite('cite-piez_2014','d2e402')">Piez 2014</a>] This means that a continuous set of atoms may serve as the
                           content of a single range, but discontinuous components must be stitched together
                           through coindexing, as illustrated in <q>An example limen: relating discontinuous
                              ranges</q> in <a class="xref" id="d2e408" href="javascript:showcite('cite-piez_2008','d2e408')">Piez 2008</a>.
                        </p>
                     </div>
                     <div id="d2e413" class="footnote">
                        <p><sup class="fn-label"><a href="#d2e413-ref" class="footnoteref">[13]</a></sup> This is not meant to imply that fragmented speech must always be regarded as
                           unitary. The decision is a philological one, and TAG can point to the parts of a
                           divided quotation from separate Markup nodes when the developer considers that
                           appropriate. In the following excerpt from Virginia Woolf’s <q>Kew
                              gardens</q>, editors might reach different conclusions about whether this is one
                           utterance or two:
                           <div class="blockquote">
                              <blockquote class="blockquote">
                                 <p id="d2e420">He talked almost incessantly; he smiled to himself and again began to talk, as
                                    if the smile had been an answer. He was talking about spirits–the spirits of the
                                    dead, who, according to him, were even now telling him all sorts of odd things
                                    about their experiences in Heaven.
                                 </p>
                                 <p id="d2e422"><q>Heaven was known to the ancients as Thessaly, William, and now, with
                                       this war, the spirit matter is rolling between the hills like thunder.</q>
                                    He paused, seemed to listen, smiled, jerked his head and continued:–
                                 </p>
                                 <p id="d2e426"><q>You have a small electric battery and a piece of rubber to insulate the
                                       wire–isolate?–insulate?–well, we’ll skip the details, no good going into details
                                       that wouldn’t be understood–and in short the little machine stands in any
                                       convenient position by the head of the bed, we will say, on a neat mahogany
                                       stand. All arrangements being properly fixed by workmen under my direction, the
                                       widow applies her ear and summons the spirit by sign as agreed. Women! Widows!
                                       Women in black–</q></p>
                              </blockquote>
                           </div>
                        </p>
                     </div>
                     <div id="d2e443" class="footnote">
                        <p><sup class="fn-label"><a href="#d2e443-ref" class="footnoteref">[14]</a></sup> What constitutes a document is a hermeneutic question that TAG does not seek
                           to answer.
                        </p>
                     </div>
                     <div id="d2e458" class="footnote">
                        <p><sup class="fn-label"><a href="#d2e458-ref" class="footnoteref">[15]</a></sup> All main text in the document forms a single chain of Text nodes, and the
                           same is true of the Text in an annotation. See also <a class="xref" href="#to_do" id="d2e461">Appendix B</a> for
                           a discussion of simultaneous text and contradictory order.
                        </p>
                     </div>
                     <div id="d2e467" class="footnote">
                        <p><sup class="fn-label"><a href="#d2e467-ref" class="footnoteref">[16]</a></sup> Empty elements play a smaller role in TAG than in XML because TAG does not
                           problematize overlap. This means that it does not need to create empty elements
                           to simulate the start and end tags of a subordinate hierarchy, as is the case in
                           some XML markup strategies.
                        </p>
                     </div>
                     <div id="d2e472" class="footnote">
                        <p><sup class="fn-label"><a href="#d2e472-ref" class="footnoteref">[17]</a></sup> The XML DOM and XDM include Text nodes in the model. The XML InfoSet has no
                           Text nodes, but regards the individual character as an information item:
                           <q>Each character is a logically separate information item, but XML
                              applications are free to chunk characters into larger groups as necessary or
                              desirable.</q>
                           <a class="xref" id="d2e478" href="javascript:showcite('cite-W3C_xmlinfoset','d2e478')">W3C XML InfoSet</a></p>
                     </div>
                     <div id="d2e504" class="footnote">
                        <p><sup class="fn-label"><a href="#d2e504-ref" class="footnoteref">[18]</a></sup> Annotation hyperedges point from the Annotations to the thing being annotated
                           because we think of adding annotations to markup similarly to adding markup to
                           text.
                        </p>
                     </div>
                     <div id="d2e698" class="footnote">
                        <p><sup class="fn-label"><a href="#d2e698-ref" class="footnoteref">[19]</a></sup> In this case, they should be merged into a single Text node. This is
                           comparable to the XML prohibition against Text nodes that are nearest siblings
                           of other Text nodes. One difference is that in TAG, nearest-sibling Text nodes
                           are permitted in the tail of a Markup-to-Text hyperedge as long as they are not
                           all in the tail of all of the same Markup-to-Text hyperedges.
                        </p>
                     </div>
                     <div id="d2e710" class="footnote">
                        <p><sup class="fn-label"><a href="#d2e710-ref" class="footnoteref">[20]</a></sup> A Markup node may be the head of both a single Markup-to-Text hyperedge and
                           a single Markup-to-Markup hyperedge. For example, in the Shakespeaerean sonnet
                           example above, we could add a Markup node with a <code class="code">name</code> value of
                           <q>poem</q> that is the head of two hyperedges. One is a
                           Markup-to-Text hyperedge that points to all Text nodes in the poem. The other is
                           a Markup-to-Markup hyperedge that points to the three quatrain Markup nodes and
                           the single couplet one. TAG permits us to assert either or both of these
                           hyperedges.
                        </p>
                     </div>
                     <div id="d2e763" class="footnote">
                        <p><sup class="fn-label"><a href="#d2e763-ref" class="footnoteref">[21]</a></sup> In this example we have tagged phrases, rather than sentences, but since phrases are
                           constituents of sentences, a phrase break that crosses a metrical line boundary normally
                           also entails a sentence break, and therefore an enjambment.
                        </p>
                     </div>
                     <div id="d2e874" class="footnote">
                        <p><sup class="fn-label"><a href="#d2e874-ref" class="footnoteref">[22]</a></sup> It is possible to interpret the content of the <code class="code">&lt;quotation&gt;</code>
                           element as three child nodes: a Text node, an intervening element that holds the
                           narrative interjection, and then another Text node, and in that sense the quotation
                           is
                           one object, although that object incorporates something that is not part of what a
                           human
                           understands as the quotation. <a class="xref" id="d2e880" href="javascript:showcite('cite-sperberg-huitfeldt_2008','d2e880')">Sperberg-McQueen and Huitfeldt 2008b</a> explains why
                           this is unsatisfactory (see especially their footnote 2).
                        </p>
                     </div>
                     <div id="d2e975" class="footnote">
                        <p><sup class="fn-label"><a href="#d2e975-ref" class="footnoteref">[23]</a></sup> This wording (<q>dominates the stanzas it contains</q>) means that
                           dominance presupposes containment, but the reverse is not the case.
                        </p>
                     </div>
                     <div id="d2e1036" class="footnote">
                        <p><sup class="fn-label"><a href="#d2e1036-ref" class="footnoteref">[24]</a></sup> The quatrain Markup node does not contain or have any other direct relationship to
                           the line Markup node. It is the set of Text nodes of the quatrain that contains the
                           set
                           of Text nodes of the line.
                        </p>
                     </div>
                     <div id="d2e1060" class="footnote">
                        <p><sup class="fn-label"><a href="#d2e1060-ref" class="footnoteref">[25]</a></sup> Because, as the Tennison quote above illustrates, dominance presupposes containment,
                           it is not strictly necessary to create a Markup-to-Text hyperedge for the
                           <code class="code">&lt;poem&gt;</code> element if it is the head of a Markup-to-Markup hyperedge.
                           
                        </p>
                     </div>
                     <div id="d2e1114" class="footnote">
                        <p><sup class="fn-label"><a href="#d2e1114-ref" class="footnoteref">[26]</a></sup> It is possible to tag the conjunction, as well, so as to push the word
                           <q>and</q> down to the same hierarchical level as the names, but we have not
                           observed that in practice. If the markup process involves tagging what the user
                           considers informational, it should be possible to say that some text in this title
                           is of
                           a particular type <span class="ital">that we care about sufficiently to specify it in
                              our markup</span>, and other text is not, and to tag the former, but not the
                           latter.
                        </p>
                     </div>
                     <div id="d2e1168" class="footnote">
                        <p><sup class="fn-label"><a href="#d2e1168-ref" class="footnoteref">[27]</a></sup> See <q>Mixed content as a type of overlap</q> in <a class="xref" id="d2e1174" href="javascript:showcite('cite-birnbaum_2015','d2e1174')">Birnbaum and Thorsen 2015</a>.
                        </p>
                     </div>
                     <div id="d2e1242" class="footnote">
                        <p><sup class="fn-label"><a href="#d2e1242-ref" class="footnoteref">[28]</a></sup> What tokenization on white space should do with the white space is a processing
                           issue, and not part of the model. The white space could form its own Text nodes, which
                           would be members of the tails of the <q>line</q> Markup-to-Text hyperedges, but
                           not of the tails of any of the <q>word</q> Markup-to-Text hyperedges. Or
                           trailing white space could be regarded as part of the word it follows, and therefore
                           included inside the Tails of the <q>word</q> Markup-to-Text hyperedges. In this
                           example, the white space would not form separate Text nodes; e.g., the first Text
                           node
                           would consist of three characters, <q>No</q> followed by a space.
                        </p>
                     </div>
                     <div id="d2e1317" class="footnote">
                        <p><sup class="fn-label"><a href="#d2e1317-ref" class="footnoteref">[29]</a></sup> Concerning this last point, when a footnote applies to a paragraph, the paragraph
                           is
                           already a structural unit independently of the footnote reference. But when a footnote
                           applies to the last two sentences of a longer paragraph, the two sentences become
                           a unit
                           only because they are the target of the footnote. That does make them a structural
                           component, but assigning a generic identifier like <code class="code">&lt;footnote_target&gt;</code>
                           to them is a concession to the XML prohibition against anonymous elements, that is,
                           to
                           the fact that XML elements always require a generic identifier that provides explicit
                           datatyping. The generic identifier is redundant because it repeats, in a different
                           way,
                           information that is already present by virtue of pointing at or referring to the
                           sentences from a footnote.
                        </p>
                     </div>
                     <div id="d2e1376" class="footnote">
                        <p><sup class="fn-label"><a href="#d2e1376-ref" class="footnoteref">[30]</a></sup> STAGO vs STAGSO and ETAGO vs ETAGSO [<a class="xref" id="d2e1379" href="javascript:showcite('cite-huitfeldt_2003','d2e1379')">Huitfeldt and Sperberg-McQueen 2003</a>, §2.3.]
                        </p>
                     </div>
                     <div id="d2e1474" class="footnote">
                        <p><sup class="fn-label"><a href="#d2e1474-ref" class="footnoteref">[31]</a></sup> Although Markup-to-Text hyperedges are directed from the Markup node to the Text
                           nodes, graph traversal may follow incoming edges back to their heads as easily as
                           it
                           follows outgoing edges to their tails.
                        </p>
                     </div>
                     <div id="d2e1521" class="footnote">
                        <p><sup class="fn-label"><a href="#d2e1521-ref" class="footnoteref">[32]</a></sup> Indices achieve their optimization during querying partially at the expense of
                           increasing the cost of updating, since parts of the index must be rebuilt when the
                           content is edited. However, not only can index updates be deferred, but, more
                           importantly, modifications to a TAG document are local because, among other things,
                           they
                           do not depend on character offsets, and therefore are not propagated across the entire
                           document. This obviates much of the expense of updating in a character-offset-based
                           standoff model.
                        </p>
                     </div>
                     <div id="d2e1656" class="footnote">
                        <p><sup class="fn-label"><a href="#d2e1656-ref" class="footnoteref">[33]</a></sup> As was noted above, this is problematic because it means that two TEI documents
                           that differ only in the order of the children of their <code class="code">&lt;choice&gt;</code>
                           elements are not deep-equal. This means that the XML data model imposes a property
                           that not only is not present in the meaning of the document, but also leads to an
                           erroneous representation of that meaning that can be corrected only through special
                           handling at the application layer.
                        </p>
                     </div>
                     <div id="d2e1932" class="footnote">
                        <p><sup class="fn-label"><a href="#d2e1932-ref" class="footnoteref">[34]</a></sup> This list item refers to syntactic representations that were developed for data
                           models other than TAG: XML syntax and the XML data model, LMNL sawtooth syntax and
                           the LMNL data model, and TexMECS and GODDAG data model. When we speak about parsing
                           XML or LMNL or TexMECS <span class="ital">syntax</span> into Alexandria
                           Markup, we mean that it is parsed into the TAG data model, and not into XML or LMNL
                           or GODDAG data models.
                        </p>
                        <p id="d2e1938">XML angle-bracketed markup, LMNL sawtooth markup, and TexMECS all are capable of
                           representing some but not all features of TAG. For example, LMNL supports
                           annotations on annotations, while TexMECS doesn’t. More subtly, because annotations
                           on the same object are ordered in LMNL but not in TAG, when Alexandria Markup parses
                           LMNL syntax, it is not parsing it into the LMNL data model because, among other
                           things, it creates unordered annotations. TexMECS supports hierarchy, while LMNL
                           sawtooth syntax does not. LMNL can represent hierarchy through the <span class="ital">limen</span>, but the limen currently has no defined
                           representation in the syntax. [<a class="xref" id="d2e1943" href="javascript:showcite('cite-piez_2008','d2e1943')">Piez 2008</a>] We leave unresolved for
                           now the question of how to serialize fully all information in a TAG document.
                        </p>
                     </div>
                     <div id="d2e1948" class="footnote">
                        <p><sup class="fn-label"><a href="#d2e1948-ref" class="footnoteref">[35]</a></sup> We leave unresolved for now the design and implementation of such an interface,
                           except to say that it might not require a specialized, TAG-aware editor. One
                           approach might involve the selective export of TAG information for manipulation in
                           a
                           third-party editor, followed by its reimport and reintegration into the TAG
                           document.
                        </p>
                     </div>
                  </div>
               </div>
               <div id="author-keywords">
                  <h5 class="keywords"><span class="label">Author's keywords for this paper: </span><span class="keyword">containment</span>; <span class="keyword">data model</span>; <span class="keyword">discontinuity</span>; <span class="keyword">graph database</span>; <span class="keyword">hierarchy</span>; <span class="keyword">hypergraph</span>; <span class="keyword">overlap</span>; <span class="keyword">simultaneity</span>; <span class="keyword">TAG</span>; <span class="keyword">text as graph</span>; <span class="keyword">mixed content</span>; <span class="keyword">white space</span></h5>
               </div>
               <div id="balisage-footer">
                  <h3 style="font-family: serif; margin:0.25em; font-style: italic">Balisage Series on Markup Technologies</h3>
               </div>
            </div>
         </body>
      </html>
      <div id="balisage-footer">
         <h3 style="font-family: serif; margin:0.25em"><i>Balisage:</i>&nbsp;<small>The Markup Conference</small></h3>
      </div>
   </body>
</html>